2022-03-01 10:04:47,867 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplicationTests using Java 1.8.0_241 on BCT105018 with PID 6524 (started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:04:47,872 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:04:48,999 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:04:49,121 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 107 ms. Found 1 JPA repository interfaces.
2022-03-01 10:04:49,896 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:04:49,966 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:04:50,169 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:04:50,445 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:04:50,656 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:04:50,691 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:04:51,271 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:04:51,279 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:04:51,331 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:04:51,358 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:04:51,879 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:04:51,940 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:04:51,942 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:04:51,946 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:04:51,959 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:04:52,430 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:04:53,319 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:04:53,326 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:04:53,343 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:04:53,548 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplicationTests in 6.198 seconds (JVM running for 7.294)
2022-03-01 10:04:53,552 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:04:53,558 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:05:32,896 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 12672 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:05:32,898 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:05:33,377 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:05:33,418 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interfaces.
2022-03-01 10:05:33,887 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:05:33,897 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:05:33,897 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:05:33,898 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:05:33,991 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:05:33,991 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1053 ms
2022-03-01 10:05:34,173 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:05:34,278 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:05:34,427 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:05:34,532 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:05:34,694 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:05:34,730 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:05:35,366 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:05:35,374 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:05:35,407 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:05:35,426 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:05:35,649 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:05:35,676 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:05:35,677 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:05:35,678 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:05:35,682 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:05:35,728 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:05:35,978 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:05:35,982 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:05:35,997 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:05:36,044 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:05:36,067 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:05:36,077 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.611 seconds (JVM running for 4.108)
2022-03-01 10:05:36,078 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:05:36,080 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:05:38,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:05:38,107 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646125538011}]
2022-03-01 10:05:38,264 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:05:38,278 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:05:38,286 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6cab75a6
2022-03-01 10:05:38,363 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:05:38,373 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 109ms
2022-03-01 10:05:38,389 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646125538011}] and the following status: [COMPLETED] in 148ms
2022-03-01 10:05:40,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:05:40,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646125540011}]
2022-03-01 10:05:40,071 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:05:40,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:05:40,081 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6cab75a6
2022-03-01 10:05:40,084 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:05:40,090 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 10:05:40,104 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646125540011}] and the following status: [COMPLETED] in 56ms
2022-03-01 10:05:42,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:05:42,042 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646125542015}]
2022-03-01 10:05:42,113 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:05:42,125 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:05:42,125 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6cab75a6
2022-03-01 10:05:42,129 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:05:42,134 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 10:05:42,149 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646125542015}] and the following status: [COMPLETED] in 100ms
2022-03-01 10:05:42,623 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-03-01 10:05:42,623 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(2)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:51:28,467 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20988 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:51:28,470 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:51:28,904 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:51:28,942 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interfaces.
2022-03-01 10:51:29,289 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:51:29,296 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:51:29,297 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:51:29,297 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:51:29,357 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:51:29,358 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 851 ms
2022-03-01 10:51:29,509 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:51:29,586 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:51:29,680 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:51:29,751 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:51:29,882 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:51:29,905 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:51:30,384 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:51:30,389 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:51:30,421 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:51:30,442 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:51:30,686 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:51:30,733 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:51:30,734 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:51:30,735 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:51:30,742 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:51:30,793 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:51:31,116 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:51:31,122 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:51:31,139 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:51:31,187 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:51:31,214 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:51:31,228 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.053 seconds (JVM running for 3.458)
2022-03-01 10:51:31,229 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:51:31,231 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:51:32,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:32,100 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128292011}]
2022-03-01 10:51:32,298 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:32,312 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:32,319 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:32,402 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 10:51:32,403 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 10:51:32,403 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 10:51:32,466 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 10:51:32,467 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 10:51:32,514 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 10:51:32,568 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 10:51:33,329 INFO com.billcom.utils.BatchUtils [Thread-1] ==> CustomerId after call rest :: 622876
2022-03-01 10:51:33,331 INFO com.billcom.utils.BatchUtils [Thread-1] restResponse toString -> com.billcom.model.RestResponse@50ada90e
2022-03-01 10:51:33,331 INFO com.billcom.utils.BatchUtils [Thread-1] => result of rest JBPMStart ws :: {"id":3566,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3566
2022-03-01 10:51:33,331 INFO com.billcom.service.ReengagementService [Thread-1] beanBatch Response = true
2022-03-01 10:51:33,331 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 10:51:33,332 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 10:51:33,332 ERROR com.billcom.batch.ReengagementStartWriter [Thread-1] error :: null
2022-03-01 10:51:33,351 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 920ms
2022-03-01 10:51:33,359 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s61ms
2022-03-01 10:51:33,376 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128292011}] and the following status: [COMPLETED] in 1s245ms
2022-03-01 10:51:34,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:34,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128294012}]
2022-03-01 10:51:34,070 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:34,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:34,079 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:34,082 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:34,090 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 10:51:34,105 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128294012}] and the following status: [COMPLETED] in 57ms
2022-03-01 10:51:36,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:36,048 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128296015}]
2022-03-01 10:51:36,074 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:36,085 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:36,085 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:36,089 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:36,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 25ms
2022-03-01 10:51:36,131 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128296015}] and the following status: [COMPLETED] in 73ms
2022-03-01 10:51:38,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:38,032 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128298002}]
2022-03-01 10:51:38,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:38,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:38,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:38,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:38,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 10:51:38,101 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128298002}] and the following status: [COMPLETED] in 61ms
2022-03-01 10:51:40,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:40,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128300005}]
2022-03-01 10:51:40,058 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:40,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:40,069 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:40,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:40,078 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 10:51:40,106 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128300005}] and the following status: [COMPLETED] in 64ms
2022-03-01 10:51:42,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:42,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128302008}]
2022-03-01 10:51:42,069 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:42,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:42,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:42,084 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:42,090 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 10:51:42,104 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128302008}] and the following status: [COMPLETED] in 61ms
2022-03-01 10:51:44,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:44,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128304003}]
2022-03-01 10:51:44,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:44,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:44,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:44,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:44,084 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 22ms
2022-03-01 10:51:44,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128304003}] and the following status: [COMPLETED] in 58ms
2022-03-01 10:51:46,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:46,029 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128306001}]
2022-03-01 10:51:46,053 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:46,066 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:46,066 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:46,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:46,078 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 10:51:46,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128306001}] and the following status: [COMPLETED] in 62ms
2022-03-01 10:51:48,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:48,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128308005}]
2022-03-01 10:51:48,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:48,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:48,072 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:48,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:48,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 10:51:48,097 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128308005}] and the following status: [COMPLETED] in 49ms
2022-03-01 10:51:50,006 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:50,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128310006}]
2022-03-01 10:51:50,068 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:50,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:50,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:50,083 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:50,089 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 10:51:50,107 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128310006}] and the following status: [COMPLETED] in 64ms
2022-03-01 10:51:52,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:52,044 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128312014}]
2022-03-01 10:51:52,077 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:52,087 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:52,087 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:52,091 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:52,098 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 10:51:52,110 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128312014}] and the following status: [COMPLETED] in 61ms
2022-03-01 10:51:54,006 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:51:54,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128314006}]
2022-03-01 10:51:54,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:51:54,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:51:54,075 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@77a72698
2022-03-01 10:51:54,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:51:54,087 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 10:51:54,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128314006}] and the following status: [COMPLETED] in 59ms
2022-03-01 10:51:54,756 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 10:51:54,756 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:53:32,425 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 3612 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:53:32,428 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:53:32,879 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:53:32,916 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 10:53:33,271 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:53:33,277 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:53:33,277 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:53:33,277 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:53:33,334 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:53:33,334 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 875 ms
2022-03-01 10:53:33,484 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:53:33,583 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:53:33,785 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:53:33,891 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:53:34,018 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:53:34,083 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:53:34,590 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:53:34,599 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:53:34,636 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:53:34,680 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:53:34,944 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:53:34,972 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:53:34,973 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:53:34,974 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:53:34,979 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:53:35,024 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:53:35,246 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:53:35,251 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:53:35,266 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:53:35,312 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:53:35,328 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:53:35,339 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.223 seconds (JVM running for 3.625)
2022-03-01 10:53:35,340 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:53:35,341 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:53:36,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:53:36,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128416014}]
2022-03-01 10:53:36,139 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:53:36,154 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:53:36,286 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@43eb0a46
2022-03-01 10:53:36,366 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 10:53:36,366 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 10:53:36,367 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 10:53:36,431 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 10:53:36,432 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 10:53:36,476 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 10:53:36,531 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 10:53:37,150 INFO com.billcom.utils.BatchUtils [Thread-1] ==> CustomerId after call rest :: 622876
2022-03-01 10:53:37,152 INFO com.billcom.utils.BatchUtils [Thread-1] restResponse toString -> com.billcom.model.RestResponse@6e5c3dff
2022-03-01 10:53:37,152 INFO com.billcom.utils.BatchUtils [Thread-1] => result of rest JBPMStart ws :: {"id":3572,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3572
2022-03-01 10:53:37,153 INFO com.billcom.service.ReengagementService [Thread-1] beanBatch Response = true
2022-03-01 10:53:37,153 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 10:53:37,153 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 10:53:37,153 ERROR com.billcom.batch.ReengagementStartWriter [Thread-1] error :: null
2022-03-01 10:53:37,274 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 875ms
2022-03-01 10:53:37,307 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s167ms
2022-03-01 10:53:37,354 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128416014}] and the following status: [COMPLETED] in 1s243ms
2022-03-01 10:53:38,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:53:38,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128418003}]
2022-03-01 10:53:38,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:53:38,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:53:38,076 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@43eb0a46
2022-03-01 10:53:38,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:53:38,086 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 26ms
2022-03-01 10:53:38,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128418003}] and the following status: [COMPLETED] in 60ms
2022-03-01 10:53:40,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:53:40,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128420013}]
2022-03-01 10:53:40,055 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:53:40,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:53:40,065 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@43eb0a46
2022-03-01 10:53:40,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:53:40,073 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 10:53:40,086 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128420013}] and the following status: [COMPLETED] in 48ms
2022-03-01 10:53:42,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:53:42,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128422010}]
2022-03-01 10:53:42,071 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:53:42,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:53:42,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@43eb0a46
2022-03-01 10:53:42,083 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:53:42,088 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 10:53:42,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128422010}] and the following status: [COMPLETED] in 55ms
2022-03-01 10:53:42,337 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 10:53:42,338 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:53:42,447 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:56:19,719 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20908 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:56:19,721 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:56:20,157 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:56:20,195 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 1 JPA repository interfaces.
2022-03-01 10:56:20,563 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:56:20,571 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:56:20,572 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:56:20,572 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:56:20,636 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:56:20,636 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 884 ms
2022-03-01 10:56:20,777 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:56:20,856 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:56:20,946 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:56:21,015 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:56:21,132 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:56:21,154 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:56:21,560 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:56:21,567 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:56:21,601 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:56:21,638 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:56:21,842 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:56:21,869 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:56:21,871 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:56:21,872 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:56:21,876 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:56:21,921 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:56:22,183 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:56:22,188 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:56:22,206 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:56:22,265 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:56:22,283 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:56:22,296 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.871 seconds (JVM running for 3.297)
2022-03-01 10:56:22,297 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:56:22,300 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:56:24,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:56:24,083 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128584006}]
2022-03-01 10:56:24,272 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:56:24,287 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:56:24,295 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@12bf943e
2022-03-01 10:56:24,380 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 10:56:24,381 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 10:56:24,381 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 10:56:24,432 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 10:56:24,434 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 10:56:24,470 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 10:56:24,520 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 10:56:25,170 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 10:56:25,171 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@4d021e89
2022-03-01 10:56:25,172 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3583,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3583
2022-03-01 10:56:25,172 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 10:56:25,172 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 10:56:25,173 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 10:56:25,173 ERROR com.billcom.batch.ReengagementStartWriter [Thread-3] error :: null
2022-03-01 10:56:25,203 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 797ms
2022-03-01 10:56:25,213 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 941ms
2022-03-01 10:56:25,231 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128584006}] and the following status: [COMPLETED] in 991ms
2022-03-01 10:56:26,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:56:26,036 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128586007}]
2022-03-01 10:56:26,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:56:26,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:56:26,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@12bf943e
2022-03-01 10:56:26,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:56:26,082 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 10:56:26,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128586007}] and the following status: [COMPLETED] in 55ms
2022-03-01 10:56:27,721 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 10:56:27,721 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:57:18,968 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 21972 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:57:18,970 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:57:19,421 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:57:19,457 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 10:57:19,791 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:57:19,799 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:57:19,799 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:57:19,800 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:57:19,857 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:57:19,858 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 862 ms
2022-03-01 10:57:19,993 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:57:20,069 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:57:20,158 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:57:20,226 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:57:20,363 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:57:20,383 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:57:20,779 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:57:20,786 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:57:20,829 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:57:20,849 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:57:21,058 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:57:21,084 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:57:21,084 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:57:21,085 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:57:21,089 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:57:21,130 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:57:21,506 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:57:21,511 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:57:21,524 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:57:21,567 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:57:21,579 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:57:21,588 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.903 seconds (JVM running for 3.313)
2022-03-01 10:57:21,589 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:57:21,590 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:57:22,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:57:22,473 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128642015}]
2022-03-01 10:57:22,936 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:57:23,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:57:23,083 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3f4ae69b
2022-03-01 10:57:23,217 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 10:57:23,217 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 10:57:23,217 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 10:57:23,609 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 10:57:23,610 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 10:57:23,695 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 10:57:23,738 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 10:57:24,301 INFO com.billcom.utils.BatchUtils [Thread-2] ==> CustomerId after call rest :: 622876
2022-03-01 10:57:24,303 INFO com.billcom.utils.BatchUtils [Thread-2] restResponse toString -> com.billcom.model.RestResponse@58a66dd7
2022-03-01 10:57:24,303 INFO com.billcom.utils.BatchUtils [Thread-2] => result of rest JBPMStart ws :: {"id":3590,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3590
2022-03-01 10:57:24,303 INFO com.billcom.service.ReengagementService [Thread-2] beanBatch Response = true
2022-03-01 10:57:24,304 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 10:57:24,304 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 10:57:24,304 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3590 , date :: 01/03/2022 10:57:24 , status :: 3 , error ::null
2022-03-01 10:57:24,304 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3590 , date :: 01/03/2022 10:57:24 , status :: 3 , error ::null
2022-03-01 10:57:24,304 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN null
2022-03-01 10:57:24,319 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 10:57:24,441 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 930ms
2022-03-01 10:57:24,516 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s580ms
2022-03-01 10:57:24,661 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128642015}] and the following status: [COMPLETED] in 2s115ms
2022-03-01 10:57:26,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:57:26,438 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128646014}]
2022-03-01 10:57:26,740 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:57:26,832 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:57:26,832 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3f4ae69b
2022-03-01 10:57:26,855 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:57:26,931 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 191ms
2022-03-01 10:57:27,104 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128646014}] and the following status: [COMPLETED] in 595ms
2022-03-01 10:57:28,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:57:28,271 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 10:57:28,271 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:57:28,287 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128648002}]
2022-03-01 10:57:28,399 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:57:28,401 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-03-01 10:57:28,406 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-03-01 10:57:28,409 WARN com.zaxxer.hikari.pool.ProxyConnection [scheduling-1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@99bdba6 marked as broken because of SQLSTATE(08S01), ErrorCode(0)
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 3 milliseconds ago. The last packet sent successfully to the server was 3 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2061)
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.resetConnection(AbstractLogicalConnectionImplementor.java:106)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.afterCompletion(LogicalConnectionManagedImpl.java:290)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:95)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:282)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:115)
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 3 milliseconds ago. The last packet sent successfully to the server was 3 milliseconds ago.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:546)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:951)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:897)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2051)
	... 61 common frames omitted
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)
	at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)
	at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)
	at java.io.FilterInputStream.read(FilterInputStream.java:133)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:540)
	... 67 common frames omitted
2022-03-01 10:57:28,411 ERROR org.springframework.batch.core.job.AbstractJob [scheduling-1] Encountered fatal error executing job
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getStepExecutionCount(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getStepExecutionCount(Unknown Source)
	at org.springframework.batch.core.job.SimpleStepHandler.shouldStart(SimpleStepHandler.java:228)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:128)
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 54 common frames omitted
2022-03-01 10:57:28,412 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] failed unexpectedly and fatally with the following parameters: [{time=1646128648002}]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 10:57:28,412 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 10:58:44,405 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 19136 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 10:58:44,407 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 10:58:44,843 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 10:58:44,879 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 10:58:45,260 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 10:58:45,268 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 10:58:45,269 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 10:58:45,269 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 10:58:45,359 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 10:58:45,359 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 925 ms
2022-03-01 10:58:45,492 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 10:58:45,526 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 10:58:45,684 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 10:58:45,754 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 10:58:45,867 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 10:58:45,888 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 10:58:46,337 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 10:58:46,345 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:58:46,394 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 10:58:46,418 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 10:58:46,664 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 10:58:46,696 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 10:58:46,699 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 10:58:46,701 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 10:58:46,711 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 10:58:46,763 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 10:58:47,029 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 10:58:47,034 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 10:58:47,051 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 10:58:47,106 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 10:58:47,122 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 10:58:47,134 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.019 seconds (JVM running for 3.421)
2022-03-01 10:58:47,135 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 10:58:47,137 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 10:58:48,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:58:48,071 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128728003}]
2022-03-01 10:58:48,112 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:58:48,125 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:58:48,133 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@da2f31c
2022-03-01 10:58:48,330 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 10:58:48,331 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 10:58:48,331 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 10:58:48,383 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 10:58:48,384 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 10:58:48,429 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 10:58:48,485 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 10:58:48,495 INFO com.billcom.service.ReengagementService [Thread-3] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,496 ERROR com.billcom.service.ReengagementService [Thread-3] error message :: Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,496 INFO com.billcom.service.ReengagementService [Thread-3] isIssuccessful :: false
2022-03-01 10:58:48,498 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,499 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 10:58:48,500 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 10:58:48,500 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 10:58:48 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,500 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 10:58:48 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,500 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,5": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,5","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 10:58:48,509 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 10:58:48,528 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 170ms
2022-03-01 10:58:48,538 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 426ms
2022-03-01 10:58:48,554 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128728003}] and the following status: [COMPLETED] in 464ms
2022-03-01 10:58:50,009 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:58:50,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128730009}]
2022-03-01 10:58:50,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:58:50,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:58:50,070 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@da2f31c
2022-03-01 10:58:50,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:58:50,080 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 10:58:50,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646128730009}] and the following status: [COMPLETED] in 53ms
2022-03-01 10:58:51,994 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 10:58:51,994 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 10:58:52,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 10:58:52,043 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646128732015}]
2022-03-01 10:58:52,074 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 10:58:52,083 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 10:58:52,083 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@da2f31c
2022-03-01 10:58:52,086 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 10:58:52,092 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 10:58:52,102 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 10:58:52,105 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-03-01 10:58:52,107 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] failed unexpectedly and fatally with the following parameters: [{time=1646128732015}]
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: Session/EntityManager is closed
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:85)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:906)
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.updateJobExecution(JdbcJobExecutionDao.java:221)
	at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2022-03-01 10:58:52,108 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: Session/EntityManager is closed
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:85)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:906)
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.updateJobExecution(JdbcJobExecutionDao.java:221)
	at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:175)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2022-03-01 11:14:05,942 WARN org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [main] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/nada.boumiza/.m2/repository/org/json/json/20211205/json-20211205.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/nada.boumiza/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2022-03-01 11:14:05,986 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplicationTests using Java 1.8.0_241 on BCT105018 with PID 16420 (started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:14:05,988 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:14:06,672 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:14:06,742 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 62 ms. Found 1 JPA repository interfaces.
2022-03-01 11:14:07,373 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:14:07,438 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:14:07,641 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:14:07,853 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:14:08,007 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:14:08,038 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:14:08,622 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:14:08,632 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:14:08,708 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:14:08,739 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:14:09,210 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:14:09,283 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:14:09,286 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:14:09,291 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:14:09,305 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:14:09,781 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:14:10,575 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:14:10,580 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:14:10,598 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:14:10,904 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplicationTests in 5.25 seconds (JVM running for 6.084)
2022-03-01 11:14:10,907 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:14:10,912 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:21:17,041 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 18288 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:21:17,044 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:21:17,473 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:21:17,509 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 11:21:17,871 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:21:17,879 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:21:17,880 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:21:17,880 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:21:17,941 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:21:17,942 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 867 ms
2022-03-01 11:21:18,084 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:21:18,159 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:21:18,252 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:21:18,324 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:21:18,464 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:21:18,488 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:21:18,916 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:21:18,923 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:21:18,956 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:21:18,990 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:21:19,224 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:21:19,251 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:21:19,252 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:21:19,253 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:21:19,257 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:21:19,301 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:21:19,538 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:21:19,543 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:21:19,557 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:21:19,603 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:21:19,628 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:21:19,639 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.905 seconds (JVM running for 3.331)
2022-03-01 11:21:19,639 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:21:19,641 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:21:20,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:20,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130080003}]
2022-03-01 11:21:20,140 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:20,155 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:20,322 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4168ebb
2022-03-01 11:21:20,460 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:21:20,475 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 334ms
2022-03-01 11:21:20,497 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130080003}] and the following status: [COMPLETED] in 379ms
2022-03-01 11:21:22,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:22,046 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130082010}]
2022-03-01 11:21:22,076 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:22,087 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:22,087 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4168ebb
2022-03-01 11:21:22,092 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:21:22,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 11:21:22,115 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130082010}] and the following status: [COMPLETED] in 63ms
2022-03-01 11:21:24,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:24,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130084005}]
2022-03-01 11:21:24,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:24,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:24,072 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4168ebb
2022-03-01 11:21:24,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:21:24,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:21:24,097 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130084005}] and the following status: [COMPLETED] in 56ms
2022-03-01 11:21:26,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:26,028 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130086004}]
2022-03-01 11:21:26,048 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:26,057 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:26,057 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4168ebb
2022-03-01 11:21:26,060 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:21:26,067 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:21:26,082 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130086004}] and the following status: [COMPLETED] in 49ms
2022-03-01 11:21:27,229 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 11:21:27,230 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:21:40,703 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 3224 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:21:40,705 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:21:41,156 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:21:41,194 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 11:21:41,542 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:21:41,551 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:21:41,551 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:21:41,552 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:21:41,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:21:41,611 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 879 ms
2022-03-01 11:21:41,757 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:21:41,833 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:21:41,923 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:21:41,993 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:21:42,110 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:21:42,131 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:21:42,537 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:21:42,546 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:21:42,581 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:21:42,615 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:21:42,878 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:21:42,903 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:21:42,905 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:21:42,905 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:21:42,909 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:21:42,954 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:21:43,175 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:21:43,179 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:21:43,193 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:21:43,238 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:21:43,251 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:21:43,261 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.847 seconds (JVM running for 3.253)
2022-03-01 11:21:43,262 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:21:43,264 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:21:44,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:44,083 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130104011}]
2022-03-01 11:21:44,128 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:44,142 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:44,279 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@31e4e84e
2022-03-01 11:21:44,364 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:21:44,365 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:21:44,365 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:21:44,428 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:21:44,429 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:21:44,474 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:21:44,519 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:21:44,529 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 11:21:44,529 INFO com.billcom.service.ReengagementService [Thread-2] amount20.0
2022-03-01 11:21:45,190 INFO com.billcom.utils.BatchUtils [Thread-2] ==> CustomerId after call rest :: 622876
2022-03-01 11:21:45,192 INFO com.billcom.utils.BatchUtils [Thread-2] restResponse toString -> com.billcom.model.RestResponse@3bea1bc1
2022-03-01 11:21:45,192 INFO com.billcom.utils.BatchUtils [Thread-2] => result of rest JBPMStart ws :: {"id":3596,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3596
2022-03-01 11:21:45,193 INFO com.billcom.service.ReengagementService [Thread-2] beanBatch Response = true
2022-03-01 11:21:45,193 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 11:21:45,193 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:21:45,193 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3596 , date :: 01/03/2022 11:21:45 , status :: 3 , error ::null
2022-03-01 11:21:45,194 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3596 , date :: 01/03/2022 11:21:45 , status :: 3 , error ::null
2022-03-01 11:21:45,194 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN null
2022-03-01 11:21:45,198 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 11:21:45,218 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 822ms
2022-03-01 11:21:45,227 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s98ms
2022-03-01 11:21:45,247 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130104011}] and the following status: [COMPLETED] in 1s143ms
2022-03-01 11:21:46,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:21:46,030 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130106004}]
2022-03-01 11:21:46,053 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:21:46,062 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:21:46,063 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@31e4e84e
2022-03-01 11:21:46,067 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:21:46,073 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:21:46,091 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130106004}] and the following status: [COMPLETED] in 55ms
2022-03-01 11:21:47,703 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 11:21:47,703 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:25:06,859 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 19472 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:25:06,861 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:25:07,371 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:25:07,413 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interfaces.
2022-03-01 11:25:07,760 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:25:07,768 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:25:07,768 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:25:07,768 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:25:07,829 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:25:07,829 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 938 ms
2022-03-01 11:25:07,966 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:25:08,042 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:25:08,134 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:25:08,204 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:25:08,324 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:25:08,345 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:25:08,755 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:25:08,762 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:25:08,808 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:25:08,828 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:25:09,039 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:25:09,064 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:25:09,065 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:25:09,066 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:25:09,070 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:25:09,115 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:25:09,370 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:25:09,375 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:25:09,389 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:25:09,435 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:25:09,448 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:25:09,457 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.936 seconds (JVM running for 3.375)
2022-03-01 11:25:09,458 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:25:09,460 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:25:10,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:25:10,081 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130310005}]
2022-03-01 11:25:10,122 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:25:10,136 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:25:10,256 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@36ecd1e2
2022-03-01 11:25:10,325 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:25:10,334 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 212ms
2022-03-01 11:25:10,348 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130310005}] and the following status: [COMPLETED] in 250ms
2022-03-01 11:25:12,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:25:12,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130312007}]
2022-03-01 11:25:12,069 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:25:12,078 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:25:12,078 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@36ecd1e2
2022-03-01 11:25:12,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:25:12,087 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:25:12,101 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130312007}] and the following status: [COMPLETED] in 54ms
2022-03-01 11:25:14,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:25:14,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130314002}]
2022-03-01 11:25:14,064 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:25:14,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:25:14,075 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@36ecd1e2
2022-03-01 11:25:14,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:25:14,088 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 11:25:14,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130314002}] and the following status: [COMPLETED] in 65ms
2022-03-01 11:25:16,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:25:16,066 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130316014}]
2022-03-01 11:25:16,096 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:25:16,107 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:25:16,108 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@36ecd1e2
2022-03-01 11:25:16,112 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:25:16,118 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 22ms
2022-03-01 11:25:16,138 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130316014}] and the following status: [COMPLETED] in 60ms
2022-03-01 11:25:17,139 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 11:25:17,140 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:26:08,234 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 19208 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:26:08,236 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:26:08,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:26:08,732 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 11:26:09,063 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:26:09,070 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:26:09,071 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:26:09,071 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:26:09,129 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:26:09,129 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 867 ms
2022-03-01 11:26:09,260 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:26:09,332 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:26:09,417 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:26:09,487 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:26:09,602 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:26:09,621 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:26:10,037 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:26:10,043 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:26:10,078 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:26:10,098 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:26:10,311 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:26:10,338 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:26:10,339 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:26:10,339 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:26:10,344 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:26:10,388 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:26:10,618 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:26:10,623 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:26:10,638 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:26:10,687 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:26:10,701 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:26:10,710 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.764 seconds (JVM running for 3.185)
2022-03-01 11:26:10,712 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:26:10,713 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:26:12,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:26:12,088 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130372004}]
2022-03-01 11:26:12,245 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:26:12,257 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:26:12,265 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4bce078b
2022-03-01 11:26:12,334 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:26:12,349 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 104ms
2022-03-01 11:26:12,366 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130372004}] and the following status: [COMPLETED] in 147ms
2022-03-01 11:26:14,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:26:14,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130374014}]
2022-03-01 11:26:14,075 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:26:14,086 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:26:14,086 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4bce078b
2022-03-01 11:26:14,090 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:26:14,095 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 11:26:14,108 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130374014}] and the following status: [COMPLETED] in 65ms
2022-03-01 11:26:16,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:26:16,045 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130376014}]
2022-03-01 11:26:16,074 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:26:16,085 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:26:16,085 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4bce078b
2022-03-01 11:26:16,088 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:26:16,094 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 11:26:16,107 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130376014}] and the following status: [COMPLETED] in 57ms
2022-03-01 11:26:18,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:26:18,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130378004}]
2022-03-01 11:26:18,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:26:18,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:26:18,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4bce078b
2022-03-01 11:26:18,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:26:18,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 11:26:18,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130378004}] and the following status: [COMPLETED] in 57ms
2022-03-01 11:26:19,600 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:26:19,602 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:27:03,948 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 17940 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:27:03,950 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:27:04,386 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:27:04,422 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:27:04,839 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:27:04,848 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:27:04,849 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:27:04,849 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:27:04,920 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:27:04,920 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 940 ms
2022-03-01 11:27:05,082 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:27:05,122 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:27:05,298 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:27:05,373 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:27:05,506 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:27:05,532 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:27:06,012 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:27:06,020 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:27:06,068 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:27:06,092 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:27:06,334 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:27:06,365 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:27:06,368 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:27:06,369 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:27:06,376 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:27:06,426 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:27:06,677 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:27:06,683 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:27:06,701 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:27:06,755 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:27:06,770 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:27:06,780 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.145 seconds (JVM running for 3.593)
2022-03-01 11:27:06,781 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:27:06,783 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:27:08,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:27:08,079 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130428005}]
2022-03-01 11:27:08,125 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:27:08,138 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:27:08,146 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@5d50fbad
2022-03-01 11:27:08,347 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:27:08,348 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:27:08,348 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:27:08,403 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:27:08,404 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:27:08,440 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:27:08,498 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:27:08,514 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 11:27:08,514 INFO com.billcom.service.ReengagementService [Thread-3] amount20.0cagnotteHT10.0cagnotteHtFacilite15.0
2022-03-01 11:27:09,066 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 11:27:09,067 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@70ea034
2022-03-01 11:27:09,068 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3600,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3600
2022-03-01 11:27:09,068 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 11:27:09,068 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 11:27:09,068 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:27:09,068 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3600 , date :: 01/03/2022 11:27:09 , status :: 3 , error ::null
2022-03-01 11:27:09,068 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3600 , date :: 01/03/2022 11:27:09 , status :: 3 , error ::null
2022-03-01 11:27:09,069 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 11:27:09,073 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 11:27:09,091 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 715ms
2022-03-01 11:27:09,101 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 975ms
2022-03-01 11:27:09,116 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130428005}] and the following status: [COMPLETED] in 1s11ms
2022-03-01 11:27:10,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:27:10,042 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130430011}]
2022-03-01 11:27:10,064 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:27:10,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:27:10,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@5d50fbad
2022-03-01 11:27:10,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:27:10,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:27:10,097 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130430011}] and the following status: [COMPLETED] in 49ms
2022-03-01 11:27:11,348 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:27:11,349 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:30:49,441 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 16400 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:30:49,443 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:30:49,937 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:30:49,977 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 1 JPA repository interfaces.
2022-03-01 11:30:50,421 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:30:50,431 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:30:50,431 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:30:50,432 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:30:50,532 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:30:50,533 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1062 ms
2022-03-01 11:30:50,724 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:30:50,823 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:30:50,939 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:30:51,033 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:30:51,187 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:30:51,214 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:30:51,758 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:30:51,768 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:30:51,818 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:30:51,845 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:30:52,120 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:30:52,151 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:30:52,152 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:30:52,153 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:30:52,158 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:30:52,208 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:30:52,509 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:30:52,517 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:30:52,533 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:30:52,585 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:30:52,599 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:30:52,609 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.496 seconds (JVM running for 3.905)
2022-03-01 11:30:52,610 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:30:52,612 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:30:54,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:30:54,078 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130654004}]
2022-03-01 11:30:54,241 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:30:54,257 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:30:54,266 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4582da06
2022-03-01 11:30:54,345 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:30:54,345 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:30:54,345 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:30:54,407 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:30:54,408 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:30:54,457 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:30:54,522 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:30:54,535 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 11:30:54,535 INFO com.billcom.service.ReengagementService [Thread-2] amount20cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:30:55,063 INFO com.billcom.utils.BatchUtils [Thread-2] ==> CustomerId after call rest :: 622876
2022-03-01 11:30:55,065 INFO com.billcom.utils.BatchUtils [Thread-2] restResponse toString -> com.billcom.model.RestResponse@2f257140
2022-03-01 11:30:55,065 INFO com.billcom.utils.BatchUtils [Thread-2] => result of rest JBPMStart ws :: {"id":3614,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3614
2022-03-01 11:30:55,065 INFO com.billcom.service.ReengagementService [Thread-2] beanBatch Response = true
2022-03-01 11:30:55,065 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 11:30:55,065 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:30:55,066 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3614 , date :: 01/03/2022 11:30:55 , status :: 3 , error ::null
2022-03-01 11:30:55,066 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3614 , date :: 01/03/2022 11:30:55 , status :: 3 , error ::null
2022-03-01 11:30:55,066 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN null
2022-03-01 11:30:55,070 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 11:30:55,092 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 716ms
2022-03-01 11:30:55,103 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 862ms
2022-03-01 11:30:55,118 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130654004}] and the following status: [COMPLETED] in 904ms
2022-03-01 11:30:56,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:30:56,040 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130656015}]
2022-03-01 11:30:56,067 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:30:56,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:30:56,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4582da06
2022-03-01 11:30:56,084 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:30:56,091 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 11:30:56,105 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130656015}] and the following status: [COMPLETED] in 59ms
2022-03-01 11:30:58,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:30:58,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130658003}]
2022-03-01 11:30:58,057 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:30:58,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:30:58,065 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4582da06
2022-03-01 11:30:58,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:30:58,075 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:30:58,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130658003}] and the following status: [COMPLETED] in 50ms
2022-03-01 11:30:58,525 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:30:58,525 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:32:52,940 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 18564 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:32:52,942 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:32:53,379 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:32:53,416 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 11:32:53,753 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:32:53,762 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:32:53,762 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:32:53,762 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:32:53,836 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:32:53,836 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 861 ms
2022-03-01 11:32:53,974 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:32:54,050 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:32:54,140 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:32:54,213 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:32:54,325 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:32:54,346 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:32:54,778 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:32:54,785 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:32:54,819 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:32:54,839 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:32:55,075 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:32:55,116 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:32:55,117 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:32:55,118 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:32:55,123 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:32:55,166 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:32:55,397 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:32:55,402 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:32:55,416 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:32:55,474 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:32:55,492 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:32:55,505 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.879 seconds (JVM running for 3.297)
2022-03-01 11:32:55,506 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:32:55,507 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:32:56,016 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:32:56,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130776017}]
2022-03-01 11:32:56,139 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:32:56,160 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:32:56,275 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@12af95be
2022-03-01 11:32:56,371 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:32:56,372 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:32:56,372 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:32:56,429 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:32:56,430 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:32:56,520 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:32:56,580 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:32:56,591 INFO com.billcom.service.ReengagementService [Thread-1] ----------------*************-----------
2022-03-01 11:32:56,592 INFO com.billcom.service.ReengagementService [Thread-1] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:32:56,592 INFO com.billcom.service.ReengagementService [Thread-1] lllll20,0
2022-03-01 11:32:56,594 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,595 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,596 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 11:32:56,597 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,597 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 11:32:56,598 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:32:56,598 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:32:56 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,598 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:32:56 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,598 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:32:56,603 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 11:32:56,621 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 219ms
2022-03-01 11:32:56,631 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 491ms
2022-03-01 11:32:56,664 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130776017}] and the following status: [COMPLETED] in 535ms
2022-03-01 11:32:58,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:32:58,036 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130778011}]
2022-03-01 11:32:58,059 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:32:58,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:32:58,068 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@12af95be
2022-03-01 11:32:58,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:32:58,078 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:32:58,092 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130778011}] and the following status: [COMPLETED] in 50ms
2022-03-01 11:33:00,009 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:33:00,054 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130780009}]
2022-03-01 11:33:00,080 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:33:00,090 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:33:00,090 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@12af95be
2022-03-01 11:33:00,094 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:33:00,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:33:00,113 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130780009}] and the following status: [COMPLETED] in 54ms
2022-03-01 11:33:00,770 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:33:00,771 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:34:43,972 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 1956 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:34:43,974 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:34:44,423 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:34:44,458 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:34:44,794 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:34:44,801 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:34:44,801 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:34:44,802 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:34:44,863 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:34:44,864 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 864 ms
2022-03-01 11:34:45,002 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:34:45,090 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:34:45,229 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:34:45,315 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:34:45,425 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:34:45,446 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:34:45,838 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:34:45,846 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:34:45,899 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:34:45,919 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:34:46,125 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:34:46,150 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:34:46,151 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:34:46,152 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:34:46,156 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:34:46,199 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:34:46,420 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:34:46,424 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:34:46,438 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:34:46,484 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:34:46,498 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:34:46,508 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.841 seconds (JVM running for 3.296)
2022-03-01 11:34:46,509 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:34:46,511 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:34:48,006 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:34:48,073 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130888007}]
2022-03-01 11:34:48,226 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:34:48,237 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:34:48,245 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@38ff12f6
2022-03-01 11:34:48,315 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:34:48,315 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:34:48,315 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:34:48,362 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:34:48,363 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:34:48,396 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:34:48,438 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:34:48,447 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 11:34:48,447 INFO com.billcom.service.ReengagementService [Thread-2] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:34:48,448 INFO com.billcom.service.ReengagementService [Thread-2] lllll20,0
2022-03-01 11:34:48,450 INFO com.billcom.service.ReengagementService [Thread-2] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,450 ERROR com.billcom.service.ReengagementService [Thread-2] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,451 INFO com.billcom.service.ReengagementService [Thread-2] isIssuccessful :: false
2022-03-01 11:34:48,452 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,452 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 11:34:48,452 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:34:48,452 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:34:48 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,453 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:34:48 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,453 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:34:48,457 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 11:34:48,474 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 135ms
2022-03-01 11:34:48,482 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 256ms
2022-03-01 11:34:48,497 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130888007}] and the following status: [COMPLETED] in 294ms
2022-03-01 11:34:50,016 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:34:50,049 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130890016}]
2022-03-01 11:34:50,072 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:34:50,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:34:50,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@38ff12f6
2022-03-01 11:34:50,084 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:34:50,090 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:34:50,104 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130890016}] and the following status: [COMPLETED] in 50ms
2022-03-01 11:34:52,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:34:52,049 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130892015}]
2022-03-01 11:34:52,077 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:34:52,087 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:34:52,087 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@38ff12f6
2022-03-01 11:34:52,092 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:34:52,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 11:34:52,116 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130892015}] and the following status: [COMPLETED] in 60ms
2022-03-01 11:34:54,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:34:54,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130894012}]
2022-03-01 11:34:54,066 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:34:54,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:34:54,074 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@38ff12f6
2022-03-01 11:34:54,078 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:34:54,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 11:34:54,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130894012}] and the following status: [COMPLETED] in 50ms
2022-03-01 11:34:55,200 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:34:55,200 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:36:08,405 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20520 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:36:08,407 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:36:08,827 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:36:08,863 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:36:09,192 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:36:09,199 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:36:09,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:36:09,199 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:36:09,256 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:36:09,257 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 820 ms
2022-03-01 11:36:09,387 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:36:09,461 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:36:09,551 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:36:09,619 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:36:09,731 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:36:09,751 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:36:10,150 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:36:10,157 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:36:10,199 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:36:10,217 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:36:10,422 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:36:10,448 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:36:10,449 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:36:10,450 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:36:10,454 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:36:10,496 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:36:10,719 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:36:10,724 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:36:10,739 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:36:10,786 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:36:10,799 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:36:10,809 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.684 seconds (JVM running for 3.097)
2022-03-01 11:36:10,810 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:36:10,811 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:36:12,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:36:12,084 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130972012}]
2022-03-01 11:36:12,230 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:36:12,242 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:36:12,249 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@7090584b
2022-03-01 11:36:12,341 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:36:12,341 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:36:12,341 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:36:12,396 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:36:12,397 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:36:12,432 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:36:12,474 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:36:12,483 INFO com.billcom.service.ReengagementService [Thread-1] ----------------*************-----------
2022-03-01 11:36:12,483 INFO com.billcom.service.ReengagementService [Thread-1] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:36:12,483 INFO com.billcom.service.ReengagementService [Thread-1] ,,,,,,
2022-03-01 11:36:12,483 INFO com.billcom.service.ReengagementService [Thread-1] lllll20,0
2022-03-01 11:36:12,486 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,486 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,487 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 11:36:12,489 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,489 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 11:36:12,490 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:36:12,490 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:36:12 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,490 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:36:12 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,490 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:36:12,494 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 11:36:12,511 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 145ms
2022-03-01 11:36:12,520 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 290ms
2022-03-01 11:36:12,536 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130972012}] and the following status: [COMPLETED] in 326ms
2022-03-01 11:36:14,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:36:14,036 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646130974007}]
2022-03-01 11:36:14,061 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:36:14,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:36:14,069 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@7090584b
2022-03-01 11:36:14,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:36:14,079 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:36:14,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646130974007}] and the following status: [COMPLETED] in 52ms
2022-03-01 11:36:15,253 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 11:36:15,254 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:37:56,851 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20932 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:37:56,855 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:37:57,291 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:37:57,326 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:37:57,676 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:37:57,684 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:37:57,684 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:37:57,684 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:37:57,740 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:37:57,741 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 857 ms
2022-03-01 11:37:57,873 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:37:57,954 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:37:58,047 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:37:58,116 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:37:58,231 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:37:58,251 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:37:58,692 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:37:58,700 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:37:58,735 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:37:58,772 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:37:58,995 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:37:59,022 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:37:59,023 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:37:59,024 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:37:59,028 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:37:59,075 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:37:59,305 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:37:59,310 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:37:59,324 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:37:59,374 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:37:59,393 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:37:59,406 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.844 seconds (JVM running for 3.265)
2022-03-01 11:37:59,407 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:37:59,409 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:38:00,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:38:00,094 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131080012}]
2022-03-01 11:38:00,136 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:38:00,266 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:38:00,274 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 11:38:00,363 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:38:00,363 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:38:00,363 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:38:00,414 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:38:00,415 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:38:00,444 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:38:00,485 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:38:00,493 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 11:38:00,494 INFO com.billcom.service.ReengagementService [Thread-3] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:38:00,494 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 11:38:00,494 INFO com.billcom.service.ReengagementService [Thread-3] lllll20,0
2022-03-01 11:38:00,497 INFO com.billcom.service.ReengagementService [Thread-3] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,497 ERROR com.billcom.service.ReengagementService [Thread-3] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,498 INFO com.billcom.service.ReengagementService [Thread-3] isIssuccessful :: false
2022-03-01 11:38:00,500 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,500 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 11:38:00,501 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:38:00,501 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:38:00 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,501 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:38:00 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,501 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:38:00,504 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 11:38:00,525 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 137ms
2022-03-01 11:38:00,534 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 398ms
2022-03-01 11:38:00,549 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131080012}] and the following status: [COMPLETED] in 436ms
2022-03-01 11:38:02,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:38:02,043 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131082011}]
2022-03-01 11:38:02,069 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:38:02,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:38:02,077 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 11:38:02,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:38:02,088 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:38:02,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131082011}] and the following status: [COMPLETED] in 54ms
2022-03-01 11:38:03,299 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 11:38:03,299 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:39:50,251 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 3696 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:39:50,253 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:39:50,700 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:39:50,741 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interfaces.
2022-03-01 11:39:51,091 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:39:51,100 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:39:51,100 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:39:51,100 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:39:51,160 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:39:51,160 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 881 ms
2022-03-01 11:39:51,306 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:39:51,382 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:39:51,475 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:39:51,545 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:39:51,667 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:39:51,689 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:39:52,092 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:39:52,101 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:39:52,138 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:39:52,174 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:39:52,384 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:39:52,410 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:39:52,412 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:39:52,412 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:39:52,417 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:39:52,464 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:39:52,688 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:39:52,693 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:39:52,708 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:39:52,755 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:39:52,768 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:39:52,778 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.813 seconds (JVM running for 3.222)
2022-03-01 11:39:52,779 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:39:52,780 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:39:54,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:39:54,082 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131194014}]
2022-03-01 11:39:54,238 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:39:54,250 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:39:54,258 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 11:39:54,328 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:39:54,329 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:39:54,329 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:39:54,381 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:39:54,382 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:39:54,416 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:39:54,457 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:39:54,466 INFO com.billcom.service.ReengagementService [Thread-1] ----------------*************-----------
2022-03-01 11:39:54,466 INFO com.billcom.service.ReengagementService [Thread-1] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:39:54,466 INFO com.billcom.service.ReengagementService [Thread-1] ,,,,,,
2022-03-01 11:39:54,466 INFO com.billcom.service.ReengagementService [Thread-1] lllll20.0
2022-03-01 11:39:54,468 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,469 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,469 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 11:39:54,471 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,471 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 11:39:54,472 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:39:54,472 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:39:54 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,472 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:39:54 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,472 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:39:54,476 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 11:39:54,493 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 138ms
2022-03-01 11:39:54,534 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 296ms
2022-03-01 11:39:54,553 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131194014}] and the following status: [COMPLETED] in 337ms
2022-03-01 11:39:56,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:39:56,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131196013}]
2022-03-01 11:39:56,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:39:56,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:39:56,069 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 11:39:56,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:39:56,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 11:39:56,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131196013}] and the following status: [COMPLETED] in 53ms
2022-03-01 11:39:58,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:39:58,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131198004}]
2022-03-01 11:39:58,055 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:39:58,063 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:39:58,064 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 11:39:58,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:39:58,075 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:39:58,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131198004}] and the following status: [COMPLETED] in 50ms
2022-03-01 11:39:58,832 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-03-01 11:39:58,832 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(2)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:50:11,239 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 8592 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:50:11,242 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:50:11,691 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:50:11,731 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interfaces.
2022-03-01 11:50:12,075 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:50:12,083 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:50:12,083 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:50:12,083 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:50:12,149 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:50:12,150 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 883 ms
2022-03-01 11:50:12,285 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:50:12,369 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:50:12,462 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:50:12,529 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:50:12,646 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:50:12,667 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:50:13,105 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:50:13,113 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:50:13,145 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:50:13,178 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:50:13,385 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:50:13,412 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:50:13,413 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:50:13,414 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:50:13,418 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:50:13,458 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:50:13,716 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:50:13,721 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:50:13,736 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:50:13,798 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:50:13,810 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:50:13,822 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.874 seconds (JVM running for 3.282)
2022-03-01 11:50:13,822 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:50:13,823 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:50:14,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:50:14,080 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131814004}]
2022-03-01 11:50:14,139 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:50:14,157 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:50:14,303 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@2815b85c
2022-03-01 11:50:14,386 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:50:14,387 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:50:14,387 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:50:14,443 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:50:14,446 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:50:14,481 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:50:14,527 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:50:14,538 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 11:50:14,538 INFO com.billcom.service.ReengagementService [Thread-2] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:50:14,539 INFO com.billcom.service.ReengagementService [Thread-2] ,,,,,,
2022-03-01 11:50:14,539 INFO com.billcom.service.ReengagementService [Thread-2] lllll20.0
2022-03-01 11:50:14,542 INFO com.billcom.service.ReengagementService [Thread-2] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,542 ERROR com.billcom.service.ReengagementService [Thread-2] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,542 INFO com.billcom.service.ReengagementService [Thread-2] isIssuccessful :: false
2022-03-01 11:50:14,544 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,545 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 11:50:14,547 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:50:14,547 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:50:14 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,548 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:50:14 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,548 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:50:14,556 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 11:50:14,585 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 168ms
2022-03-01 11:50:14,595 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 455ms
2022-03-01 11:50:14,619 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131814004}] and the following status: [COMPLETED] in 516ms
2022-03-01 11:50:16,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:50:16,030 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646131816002}]
2022-03-01 11:50:16,053 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:50:16,063 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:50:16,064 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@2815b85c
2022-03-01 11:50:16,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:50:16,077 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 11:50:16,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646131816002}] and the following status: [COMPLETED] in 55ms
2022-03-01 11:50:16,958 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:50:16,959 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:53:51,376 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 10028 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:53:51,378 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:53:51,803 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:53:51,838 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:53:52,212 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:53:52,220 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:53:52,220 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:53:52,221 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:53:52,278 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:53:52,278 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 873 ms
2022-03-01 11:53:52,417 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:53:52,493 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:53:52,588 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:53:52,657 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:53:52,777 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:53:52,799 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:53:53,322 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:53:53,330 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:53:53,369 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:53:53,396 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:53:53,633 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:53:53,661 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:53:53,662 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:53:53,664 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:53:53,668 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:53:53,712 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:53:53,994 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:53:54,000 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:53:54,017 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:53:54,078 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:53:54,094 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:53:54,104 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.012 seconds (JVM running for 3.414)
2022-03-01 11:53:54,105 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:53:54,106 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:53:56,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:53:56,092 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132036008}]
2022-03-01 11:53:56,257 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:53:56,268 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:53:56,276 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6174dffc
2022-03-01 11:53:56,349 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:53:56,350 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:53:56,350 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:53:56,398 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:53:56,399 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:53:56,430 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:53:56,469 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:53:56,477 INFO com.billcom.service.ReengagementService [Thread-1] ----------------*************-----------
2022-03-01 11:53:56,477 INFO com.billcom.service.ReengagementService [Thread-1] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:53:56,477 INFO com.billcom.service.ReengagementService [Thread-1] ,,,,,,
2022-03-01 11:53:56,477 INFO com.billcom.service.ReengagementService [Thread-1] lllll20.0
2022-03-01 11:53:56,480 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,480 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,481 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 11:53:56,482 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,482 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 11:53:56,482 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:53:56,483 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:53:56 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,483 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  0 , date :: 01/03/2022 11:53:56 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,483 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "20,0": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"50030013","amount":"20,0","cagnotteHT":"10","cagnotteHtFacilite":"15","commitmentPeriod":null}}"; line: 1, column: 49] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["amount"])
2022-03-01 11:53:56,487 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 11:53:56,505 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 133ms
2022-03-01 11:53:56,513 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 256ms
2022-03-01 11:53:56,533 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132036008}] and the following status: [COMPLETED] in 291ms
2022-03-01 11:53:58,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:53:58,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132038011}]
2022-03-01 11:53:58,059 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:53:58,067 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:53:58,067 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6174dffc
2022-03-01 11:53:58,070 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:53:58,076 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 11:53:58,088 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132038011}] and the following status: [COMPLETED] in 45ms
2022-03-01 11:54:00,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:54:00,069 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132040001}]
2022-03-01 11:54:00,094 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:54:00,121 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:54:00,121 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@6174dffc
2022-03-01 11:54:00,125 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:54:00,131 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 36ms
2022-03-01 11:54:00,144 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132040001}] and the following status: [COMPLETED] in 69ms
2022-03-01 11:54:00,306 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 11:54:00,306 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:55:55,042 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 10768 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:55:55,044 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:55:55,474 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:55:55,511 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 11:55:55,861 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:55:55,868 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:55:55,868 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:55:55,868 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:55:55,931 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:55:55,931 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 861 ms
2022-03-01 11:55:56,068 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:55:56,144 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:55:56,237 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:55:56,308 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:55:56,421 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:55:56,441 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:55:56,846 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:55:56,853 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:55:56,901 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:55:56,921 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:55:57,135 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:55:57,161 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:55:57,163 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:55:57,163 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:55:57,168 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:55:57,211 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:55:57,437 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:55:57,443 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:55:57,457 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:55:57,505 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:55:57,518 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:55:57,527 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.77 seconds (JVM running for 3.232)
2022-03-01 11:55:57,528 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:55:57,530 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:55:58,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:55:58,072 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132158005}]
2022-03-01 11:55:58,115 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:55:58,265 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:55:58,274 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@641f4d6
2022-03-01 11:55:58,347 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:55:58,347 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:55:58,347 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:55:58,397 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:55:58,398 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:55:58,428 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:55:58,468 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:55:58,477 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 11:55:58,477 INFO com.billcom.service.ReengagementService [Thread-3] amount20,0cagnotteHT10cagnotteHtFacilite15
2022-03-01 11:55:58,477 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 11:55:58,477 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 11:55:59,092 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 11:55:59,095 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@53e53709
2022-03-01 11:55:59,095 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3622,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3622
2022-03-01 11:55:59,095 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 11:55:59,095 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 11:55:59,096 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:55:59,096 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3622 , date :: 01/03/2022 11:55:59 , status :: 3 , error ::null
2022-03-01 11:55:59,096 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3622 , date :: 01/03/2022 11:55:59 , status :: 3 , error ::null
2022-03-01 11:55:59,096 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 11:55:59,100 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 11:55:59,118 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 747ms
2022-03-01 11:55:59,127 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s12ms
2022-03-01 11:55:59,143 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132158005}] and the following status: [COMPLETED] in 1s52ms
2022-03-01 11:56:00,010 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:56:00,052 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132160010}]
2022-03-01 11:56:00,079 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:56:00,088 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:56:00,089 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@641f4d6
2022-03-01 11:56:00,093 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:56:00,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 11:56:00,113 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132160010}] and the following status: [COMPLETED] in 56ms
2022-03-01 11:56:01,750 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 11:56:01,750 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 11:57:34,927 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 15276 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 11:57:34,929 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 11:57:35,351 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 11:57:35,388 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 11:57:35,757 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 11:57:35,765 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 11:57:35,766 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 11:57:35,766 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 11:57:35,826 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 11:57:35,826 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 871 ms
2022-03-01 11:57:35,962 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 11:57:36,041 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 11:57:36,131 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 11:57:36,222 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 11:57:36,346 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 11:57:36,366 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 11:57:36,785 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 11:57:36,793 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 11:57:36,839 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 11:57:36,860 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 11:57:37,084 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 11:57:37,116 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 11:57:37,118 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 11:57:37,120 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 11:57:37,125 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 11:57:37,174 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 11:57:37,438 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 11:57:37,443 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 11:57:37,459 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 11:57:37,511 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 11:57:37,525 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 11:57:37,536 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.895 seconds (JVM running for 3.293)
2022-03-01 11:57:37,537 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 11:57:37,539 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 11:57:38,016 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:57:38,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132258017}]
2022-03-01 11:57:38,141 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:57:38,156 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:57:38,288 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@63ad1926
2022-03-01 11:57:38,370 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 11:57:38,371 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 11:57:38,371 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 11:57:38,421 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 11:57:38,422 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 11:57:38,456 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 11:57:38,506 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 11:57:38,518 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 11:57:38,518 INFO com.billcom.service.ReengagementService [Thread-3] amount20,0cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 11:57:38,519 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 11:57:39,110 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 11:57:39,112 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@1eadd084
2022-03-01 11:57:39,112 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3627,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3627
2022-03-01 11:57:39,112 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 11:57:39,113 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 11:57:39,113 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 11:57:39,113 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3627 , date :: 01/03/2022 11:57:39 , status :: 3 , error ::null
2022-03-01 11:57:39,113 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3627 , date :: 01/03/2022 11:57:39 , status :: 3 , error ::null
2022-03-01 11:57:39,113 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 11:57:39,119 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 11:57:39,141 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 745ms
2022-03-01 11:57:39,151 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s9ms
2022-03-01 11:57:39,172 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132258017}] and the following status: [COMPLETED] in 1s56ms
2022-03-01 11:57:40,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:57:40,045 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132260014}]
2022-03-01 11:57:40,068 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:57:40,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:57:40,076 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@63ad1926
2022-03-01 11:57:40,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:57:40,087 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 11:57:40,105 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132260014}] and the following status: [COMPLETED] in 53ms
2022-03-01 11:57:42,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 11:57:42,029 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132262002}]
2022-03-01 11:57:42,052 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 11:57:42,061 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 11:57:42,061 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@63ad1926
2022-03-01 11:57:42,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 11:57:42,070 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 11:57:42,083 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132262002}] and the following status: [COMPLETED] in 49ms
2022-03-01 11:57:42,474 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 11:57:42,474 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:09:44,014 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 16572 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:09:44,016 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:09:44,444 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:09:44,483 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interfaces.
2022-03-01 12:09:44,861 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:09:44,868 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:09:44,869 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:09:44,869 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:09:44,927 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:09:44,928 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 884 ms
2022-03-01 12:09:45,063 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:09:45,160 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:09:45,257 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:09:45,329 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:09:45,442 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:09:45,462 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:09:45,904 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:09:45,910 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:09:45,944 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:09:45,982 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:09:46,230 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:09:46,258 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:09:46,259 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:09:46,259 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:09:46,264 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:09:46,307 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:09:46,574 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:09:46,579 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:09:46,593 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:09:46,640 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:09:46,654 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:09:46,664 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.944 seconds (JVM running for 3.356)
2022-03-01 12:09:46,664 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:09:46,666 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:09:48,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:09:48,068 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132988002}]
2022-03-01 12:09:48,218 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:09:48,231 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:09:48,239 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 12:09:48,308 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:09:48,308 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:09:48,308 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:09:48,362 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:09:48,363 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:09:48,404 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:09:48,446 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:09:48,454 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] amount20,0cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:09:48,455 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.0
2022-03-01 12:09:49,044 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 12:09:49,046 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@59cf49c9
2022-03-01 12:09:49,046 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3638,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3638
2022-03-01 12:09:49,046 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:09:49,047 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:09:49,047 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:09:49,047 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3638 , date :: 01/03/2022 12:09:49 , status :: 3 , error ::null
2022-03-01 12:09:49,047 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3638 , date :: 01/03/2022 12:09:49 , status :: 3 , error ::null
2022-03-01 12:09:49,047 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:09:49,052 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:09:49,075 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 739ms
2022-03-01 12:09:49,085 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 866ms
2022-03-01 12:09:49,104 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132988002}] and the following status: [COMPLETED] in 904ms
2022-03-01 12:09:50,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:09:50,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132990007}]
2022-03-01 12:09:50,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:09:50,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:09:50,074 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 12:09:50,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:09:50,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 12:09:50,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132990007}] and the following status: [COMPLETED] in 59ms
2022-03-01 12:09:52,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:09:52,039 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132992008}]
2022-03-01 12:09:52,065 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:09:52,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:09:52,074 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 12:09:52,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:09:52,084 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 12:09:52,102 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132992008}] and the following status: [COMPLETED] in 55ms
2022-03-01 12:09:54,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:09:54,044 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646132994014}]
2022-03-01 12:09:54,066 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:09:54,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:09:54,075 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@268b10c4
2022-03-01 12:09:54,078 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:09:54,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 12:09:54,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646132994014}] and the following status: [COMPLETED] in 47ms
2022-03-01 12:09:54,738 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 12:09:54,738 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:10:28,802 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 9668 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:10:28,805 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:10:29,226 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:10:29,262 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 12:10:29,605 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:10:29,613 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:10:29,614 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:10:29,614 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:10:29,682 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:10:29,682 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 851 ms
2022-03-01 12:10:29,817 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:10:29,897 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:10:29,988 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:10:30,056 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:10:30,171 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:10:30,191 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:10:30,588 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:10:30,594 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:10:30,628 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:10:30,661 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:10:30,876 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:10:30,903 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:10:30,904 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:10:30,904 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:10:30,909 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:10:30,953 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:10:31,183 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:10:31,187 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:10:31,202 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:10:31,249 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:10:31,262 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:10:31,273 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.776 seconds (JVM running for 3.181)
2022-03-01 12:10:31,274 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:10:31,276 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:10:32,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:10:32,073 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133032002}]
2022-03-01 12:10:32,116 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:10:32,129 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:10:32,251 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4912470d
2022-03-01 12:10:32,323 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:10:32,323 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:10:32,323 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:10:32,377 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:10:32,378 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:10:32,410 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:10:32,452 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:10:32,460 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:10:32,461 INFO com.billcom.service.ReengagementService [Thread-3] amount20cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:10:32,461 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:10:32,461 INFO com.billcom.service.ReengagementService [Thread-3] lllll20
2022-03-01 12:10:32,461 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:10:32,461 INFO com.billcom.service.ReengagementService [Thread-3] lllll20
2022-03-01 12:10:32,982 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 12:10:32,984 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@64cf8e4
2022-03-01 12:10:32,984 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3639,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3639
2022-03-01 12:10:32,984 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:10:32,985 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:10:32,985 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:10:32,985 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3639 , date :: 01/03/2022 12:10:32 , status :: 3 , error ::null
2022-03-01 12:10:32,985 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3639 , date :: 01/03/2022 12:10:32 , status :: 3 , error ::null
2022-03-01 12:10:32,985 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:10:32,990 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:10:33,010 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 657ms
2022-03-01 12:10:33,019 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 902ms
2022-03-01 12:10:33,066 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133032002}] and the following status: [COMPLETED] in 943ms
2022-03-01 12:10:34,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:10:34,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133034001}]
2022-03-01 12:10:34,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:10:34,070 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:10:34,070 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4912470d
2022-03-01 12:10:34,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:10:34,082 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 22ms
2022-03-01 12:10:34,102 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133034001}] and the following status: [COMPLETED] in 60ms
2022-03-01 12:10:36,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:10:36,032 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133036003}]
2022-03-01 12:10:36,059 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:10:36,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:10:36,069 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4912470d
2022-03-01 12:10:36,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:10:36,080 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 12:10:36,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133036003}] and the following status: [COMPLETED] in 56ms
2022-03-01 12:10:36,297 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 12:10:36,298 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:11:42,120 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 15424 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:11:42,122 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:11:42,542 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:11:42,578 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interfaces.
2022-03-01 12:11:42,913 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:11:42,921 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:11:42,921 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:11:42,921 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:11:42,980 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:11:42,980 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 832 ms
2022-03-01 12:11:43,118 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:11:43,194 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:11:43,283 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:11:43,356 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:11:43,497 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:11:43,520 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:11:43,977 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:11:43,986 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:11:44,025 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:11:44,061 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:11:44,305 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:11:44,330 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:11:44,331 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:11:44,332 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:11:44,336 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:11:44,381 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:11:44,647 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:11:44,653 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:11:44,671 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:11:44,722 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:11:44,739 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:11:44,750 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.935 seconds (JVM running for 3.337)
2022-03-01 12:11:44,751 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:11:44,753 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:11:46,009 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:11:46,076 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133106010}]
2022-03-01 12:11:46,330 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:11:46,346 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:11:46,354 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@67920cac
2022-03-01 12:11:46,444 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:11:46,444 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:11:46,444 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:11:46,514 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:11:46,516 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:11:46,560 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:11:46,605 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:11:46,613 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 12:11:46,614 INFO com.billcom.service.ReengagementService [Thread-2] amount20cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:11:46,614 INFO com.billcom.service.ReengagementService [Thread-2] ,,,,,,
2022-03-01 12:11:46,614 INFO com.billcom.service.ReengagementService [Thread-2] lllll20
2022-03-01 12:11:46,614 INFO com.billcom.service.ReengagementService [Thread-2] ,,,,,,
2022-03-01 12:11:46,614 INFO com.billcom.service.ReengagementService [Thread-2] lllll20
2022-03-01 12:11:47,183 INFO com.billcom.utils.BatchUtils [Thread-2] ==> CustomerId after call rest :: 622876
2022-03-01 12:11:47,185 INFO com.billcom.utils.BatchUtils [Thread-2] restResponse toString -> com.billcom.model.RestResponse@63a77885
2022-03-01 12:11:47,185 INFO com.billcom.utils.BatchUtils [Thread-2] => result of rest JBPMStart ws :: {"id":3649,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3649
2022-03-01 12:11:47,185 INFO com.billcom.service.ReengagementService [Thread-2] beanBatch Response = true
2022-03-01 12:11:47,185 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 12:11:47,185 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:11:47,186 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3649 , date :: 01/03/2022 12:11:47 , status :: 3 , error ::null
2022-03-01 12:11:47,186 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3649 , date :: 01/03/2022 12:11:47 , status :: 3 , error ::null
2022-03-01 12:11:47,186 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN null
2022-03-01 12:11:47,190 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 12:11:47,208 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 726ms
2022-03-01 12:11:47,254 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 923ms
2022-03-01 12:11:47,356 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133106010}] and the following status: [COMPLETED] in 1s132ms
2022-03-01 12:11:48,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:11:48,051 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133108002}]
2022-03-01 12:11:48,080 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:11:48,090 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:11:48,090 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@67920cac
2022-03-01 12:11:48,094 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:11:48,100 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 12:11:48,124 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133108002}] and the following status: [COMPLETED] in 64ms
2022-03-01 12:11:50,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:11:50,105 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 12:11:50,105 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:11:50,131 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133110007}]
2022-03-01 12:11:50,200 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(8)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:11:50,202 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-03-01 12:11:50,207 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-03-01 12:11:50,210 WARN com.zaxxer.hikari.pool.ProxyConnection [scheduling-1] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@67f122da marked as broken because of SQLSTATE(08S01), ErrorCode(0)
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 11 milliseconds ago. The last packet sent successfully to the server was 11 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2061)
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:285)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:115)
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 11 milliseconds ago. The last packet sent successfully to the server was 11 milliseconds ago.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:546)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:951)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:897)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2051)
	... 61 common frames omitted
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)
	at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)
	at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)
	at java.io.FilterInputStream.read(FilterInputStream.java:133)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:540)
	... 67 common frames omitted
2022-03-01 12:11:50,211 ERROR org.springframework.batch.core.job.AbstractJob [scheduling-1] Encountered fatal error executing job
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.getLastStepExecution(Unknown Source)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:115)
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.TransactionException: JDBC begin transaction failed: 
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:78)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:285)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)
	... 53 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 11 milliseconds ago. The last packet sent successfully to the server was 11 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2061)
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:414)
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72)
	... 58 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 11 milliseconds ago. The last packet sent successfully to the server was 11 milliseconds ago.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:546)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:710)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:649)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:951)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:897)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2051)
	... 61 common frames omitted
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at com.mysql.cj.protocol.ReadAheadInputStream.fill(ReadAheadInputStream.java:107)
	at com.mysql.cj.protocol.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:150)
	at com.mysql.cj.protocol.ReadAheadInputStream.read(ReadAheadInputStream.java:180)
	at java.io.FilterInputStream.read(FilterInputStream.java:133)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:540)
	... 67 common frames omitted
2022-03-01 12:11:50,212 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] failed unexpectedly and fatally with the following parameters: [{time=1646133110007}]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 12:11:50,213 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor55.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 12:16:24,518 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 10832 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:16:24,520 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:16:24,941 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:16:24,981 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interfaces.
2022-03-01 12:16:25,348 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:16:25,355 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:16:25,355 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:16:25,356 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:16:25,412 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:16:25,412 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 864 ms
2022-03-01 12:16:25,555 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:16:25,633 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:16:25,726 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:16:25,791 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:16:25,903 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:16:25,924 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:16:26,361 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:16:26,369 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:16:26,403 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:16:26,425 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:16:26,670 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:16:26,699 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:16:26,700 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:16:26,701 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:16:26,706 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:16:26,759 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:16:27,015 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:16:27,020 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:16:27,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:16:27,095 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:16:27,114 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:16:27,125 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.9 seconds (JVM running for 3.356)
2022-03-01 12:16:27,126 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:16:27,127 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:16:28,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:16:28,078 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133388008}]
2022-03-01 12:16:28,318 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:16:28,335 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:16:28,344 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4c22f659
2022-03-01 12:16:28,422 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:16:28,422 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:16:28,423 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:16:28,475 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:16:28,476 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:16:28,515 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:16:28,570 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:16:28,582 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:16:28,582 INFO com.billcom.service.ReengagementService [Thread-3] amount20cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:16:28,582 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:16:28,583 INFO com.billcom.service.ReengagementService [Thread-3] lllll20
2022-03-01 12:16:28,583 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:16:28,583 INFO com.billcom.service.ReengagementService [Thread-3] lllll20
2022-03-01 12:16:29,145 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 12:16:29,146 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@7de6446c
2022-03-01 12:16:29,146 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3670,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3670
2022-03-01 12:16:29,147 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:16:29,147 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:16:29,147 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:16:29,147 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3670 , date :: 01/03/2022 12:16:29 , status :: 3 , error ::null
2022-03-01 12:16:29,147 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3670 , date :: 01/03/2022 12:16:29 , status :: 3 , error ::null
2022-03-01 12:16:29,147 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:16:29,152 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:16:29,169 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 720ms
2022-03-01 12:16:29,179 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 860ms
2022-03-01 12:16:29,193 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133388008}] and the following status: [COMPLETED] in 916ms
2022-03-01 12:16:30,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:16:30,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133390008}]
2022-03-01 12:16:30,065 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:16:30,073 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:16:30,074 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4c22f659
2022-03-01 12:16:30,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:16:30,084 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 12:16:30,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133390008}] and the following status: [COMPLETED] in 54ms
2022-03-01 12:16:32,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:16:32,046 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133392015}]
2022-03-01 12:16:32,076 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:16:32,085 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:16:32,085 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@4c22f659
2022-03-01 12:16:32,090 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:16:32,096 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 12:16:32,114 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133392015}] and the following status: [COMPLETED] in 60ms
2022-03-01 12:16:32,631 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 12:16:32,632 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:19:35,016 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 14424 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:19:35,019 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:19:35,465 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:19:35,501 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 12:19:35,892 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:19:35,901 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:19:35,901 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:19:35,901 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:19:35,970 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:19:35,971 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 919 ms
2022-03-01 12:19:36,122 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:19:36,201 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:19:36,301 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:19:36,375 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:19:36,504 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:19:36,526 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:19:36,959 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:19:36,966 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:19:37,012 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:19:37,033 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:19:37,265 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:19:37,290 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:19:37,291 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:19:37,291 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:19:37,296 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:19:37,338 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:19:37,556 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:19:37,560 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:19:37,574 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:19:37,619 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:19:37,632 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:19:37,642 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.925 seconds (JVM running for 3.366)
2022-03-01 12:19:37,643 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:19:37,644 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:19:38,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:19:38,072 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133578004}]
2022-03-01 12:19:38,169 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:19:38,293 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:19:38,300 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@58f00598
2022-03-01 12:19:38,374 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:19:38,374 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:19:38,374 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:19:38,425 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:19:38,427 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:19:38,459 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:19:38,502 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:19:38,510 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:19:38,510 INFO com.billcom.service.ReengagementService [Thread-3] amount20,22cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:19:38,510 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:19:38,511 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:19:38,511 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:19:38,511 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:19:38,511 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:19:38,511 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:19:39,088 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 12:19:39,090 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@f1e8738
2022-03-01 12:19:39,090 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3678,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3678
2022-03-01 12:19:39,090 INFO com.billcom.service.ReengagementService [Thread-3] jsonnnnJbpmReengagement [custId=622876, canal=CRM, duedate=2021-12-28 00:00:00, osmReference=osm123456, updateOption=[com.billcom.model.UpdateOption@6b353265], injectionRbf=[com.billcom.model.InjectionRbf@644ed976], updateGrh=com.billcom.model.UpdateGrh@5031fbfe, injectionGps=com.billcom.model.InjectionGps@2b6d9187, migration=[com.billcom.model.MigrationBean@69892895, com.billcom.model.MigrationBean@7b9ec9bb], jbpmrefreegagement=COMMANDE-RENG-65387-681583]
2022-03-01 12:19:39,090 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:19:39,090 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:19:39,091 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:19:39,091 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3678 , date :: 01/03/2022 12:19:39 , status :: 3 , error ::null
2022-03-01 12:19:39,091 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3678 , date :: 01/03/2022 12:19:39 , status :: 3 , error ::null
2022-03-01 12:19:39,091 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:19:39,096 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:19:39,114 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 713ms
2022-03-01 12:19:39,124 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 955ms
2022-03-01 12:19:39,140 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133578004}] and the following status: [COMPLETED] in 1s47ms
2022-03-01 12:19:40,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:19:40,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133580012}]
2022-03-01 12:19:40,068 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:19:40,078 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:19:40,078 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@58f00598
2022-03-01 12:19:40,082 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:19:40,088 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 12:19:40,102 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133580012}] and the following status: [COMPLETED] in 56ms
2022-03-01 12:19:42,003 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:19:42,031 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133582003}]
2022-03-01 12:19:42,061 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:19:42,114 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:19:42,114 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@58f00598
2022-03-01 12:19:42,118 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:19:42,124 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 63ms
2022-03-01 12:19:42,145 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133582003}] and the following status: [COMPLETED] in 105ms
2022-03-01 12:19:43,156 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 12:19:43,156 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:23:09,088 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20284 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:23:09,090 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:23:09,529 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:23:09,567 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 32 ms. Found 1 JPA repository interfaces.
2022-03-01 12:23:09,918 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:23:09,925 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:23:09,925 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:23:09,925 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:23:09,984 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:23:09,985 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 863 ms
2022-03-01 12:23:10,119 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:23:10,197 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:23:10,285 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:23:10,352 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:23:10,467 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:23:10,489 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:23:10,891 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:23:10,899 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:23:10,961 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:23:10,987 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:23:11,201 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:23:11,227 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:23:11,228 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:23:11,229 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:23:11,236 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:23:11,280 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:23:11,508 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:23:11,513 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:23:11,528 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:23:11,575 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:23:11,590 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:23:11,600 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.803 seconds (JVM running for 3.205)
2022-03-01 12:23:11,601 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:23:11,602 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:23:12,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:23:12,085 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133792014}]
2022-03-01 12:23:12,130 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:23:12,144 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:23:12,267 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@32f382cd
2022-03-01 12:23:12,342 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 125 max of partion = 125
2022-03-01 12:23:12,342 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:23:12,342 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =125 maxValue 125
2022-03-01 12:23:12,391 INFO com.billcom.config.BatchConfig [scheduling-1] reading 125 to 125
2022-03-01 12:23:12,392 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:23:12,423 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-65387-681583
2022-03-01 12:23:12,464 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"36","commitmentStartDate":"2021-12-28T08:58:13.973Z","contractList":[{"cocode":"CONTR0023407180","msisdn":"50501620"}]}
2022-03-01 12:23:12,473 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] amount20,22cagnotteHT10,2cagnotteHtFacilite15,77
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] lllll20.22
2022-03-01 12:23:12,474 INFO com.billcom.service.ReengagementService [Thread-3] injectionGps json{"cagnotte":{"osmReference":"50030013","amount":"20.22","cagnotteHT":"20.22","cagnotteHtFacilite":"20.22","commitmentPeriod":null}}
2022-03-01 12:23:13,118 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 622876
2022-03-01 12:23:13,120 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@6a44fbc6
2022-03-01 12:23:13,120 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3681,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3681
2022-03-01 12:23:13,120 INFO com.billcom.service.ReengagementService [Thread-3] jsonnnnJbpmReengagement [custId=622876, canal=CRM, duedate=2021-12-28 00:00:00, osmReference=osm123456, updateOption=[com.billcom.model.UpdateOption@3965375], injectionRbf=[com.billcom.model.InjectionRbf@1ad26851], updateGrh=com.billcom.model.UpdateGrh@36df3760, injectionGps=com.billcom.model.InjectionGps@7b0860b6, migration=[com.billcom.model.MigrationBean@4ab49959, com.billcom.model.MigrationBean@432df0be], jbpmrefreegagement=COMMANDE-RENG-65387-681583]
2022-03-01 12:23:13,121 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:23:13,121 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:23:13,121 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-65387-681583
2022-03-01 12:23:13,121 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3681 , date :: 01/03/2022 12:23:13 , status :: 3 , error ::null
2022-03-01 12:23:13,121 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-65387-681583 , orderId ::  3681 , date :: 01/03/2022 12:23:13 , status :: 3 , error ::null
2022-03-01 12:23:13,122 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:23:13,125 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:23:13,146 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 780ms
2022-03-01 12:23:13,156 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s25ms
2022-03-01 12:23:13,173 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133792014}] and the following status: [COMPLETED] in 1s68ms
2022-03-01 12:23:14,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:23:14,039 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133794012}]
2022-03-01 12:23:14,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:23:14,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:23:14,072 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@32f382cd
2022-03-01 12:23:14,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:23:14,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 12:23:14,100 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133794012}] and the following status: [COMPLETED] in 55ms
2022-03-01 12:23:16,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:23:16,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646133796013}]
2022-03-01 12:23:16,066 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:23:16,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:23:16,075 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@32f382cd
2022-03-01 12:23:16,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:23:16,086 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 12:23:16,101 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646133796013}] and the following status: [COMPLETED] in 53ms
2022-03-01 12:23:16,461 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 12:23:16,461 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:47:20,815 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 10700 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:47:20,818 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:47:21,275 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:47:21,315 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interfaces.
2022-03-01 12:47:21,736 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:47:21,746 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:47:21,747 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:47:21,747 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:47:21,838 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:47:21,839 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 992 ms
2022-03-01 12:47:21,985 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:47:22,089 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:47:22,228 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:47:22,320 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:47:22,458 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:47:22,486 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:47:23,038 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:47:23,044 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:47:23,078 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:47:23,101 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:47:23,365 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:47:23,394 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:47:23,395 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:47:23,395 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:47:23,400 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:47:23,461 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:47:23,707 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:47:23,712 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:47:23,726 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:47:23,779 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:47:23,795 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:47:23,806 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.314 seconds (JVM running for 3.736)
2022-03-01 12:47:23,807 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:47:23,808 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:47:24,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:47:24,105 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135244012}]
2022-03-01 12:47:24,179 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:47:24,197 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:47:24,314 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@1acf0832
2022-03-01 12:47:24,398 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 187 max of partion = 187
2022-03-01 12:47:24,398 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:47:24,398 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =187 maxValue 187
2022-03-01 12:47:24,449 INFO com.billcom.config.BatchConfig [scheduling-1] reading 187 to 187
2022-03-01 12:47:24,451 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:47:24,485 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-93104-31926
2022-03-01 12:47:24,544 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 12:47:24,555 INFO com.billcom.service.ReengagementService [Thread-3] batchModeTraitement error message ::  Error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,556 ERROR com.billcom.service.ReengagementService [Thread-3] error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,557 INFO com.billcom.service.ReengagementService [Thread-3] isIssuccessful :: false
2022-03-01 12:47:24,557 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] Catch Error in ReengagementStartProcessor :: Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,557 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:47:24,558 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-93104-31926
2022-03-01 12:47:24,558 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-93104-31926 , orderId ::  0 , date :: 01/03/2022 12:47:24 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,558 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-93104-31926 , orderId ::  0 , date :: 01/03/2022 12:47:24 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,559 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 12:47:24,563 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:47:24,584 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 157ms
2022-03-01 12:47:24,595 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 416ms
2022-03-01 12:47:24,617 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135244012}] and the following status: [COMPLETED] in 477ms
2022-03-01 12:47:26,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:47:26,039 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135246015}]
2022-03-01 12:47:26,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:47:26,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:47:26,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@1acf0832
2022-03-01 12:47:26,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:47:26,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 12:47:26,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135246015}] and the following status: [COMPLETED] in 58ms
2022-03-01 12:47:28,004 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:47:28,032 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135248005}]
2022-03-01 12:47:28,058 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:47:28,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:47:28,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@1acf0832
2022-03-01 12:47:28,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:47:28,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 12:47:28,115 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135248005}] and the following status: [COMPLETED] in 76ms
2022-03-01 12:47:29,944 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 12:47:29,945 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:47:30,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:47:30,040 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:47:30,041 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135250011}]
2022-03-01 12:47:30,042 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-03-01 12:47:30,043 ERROR org.springframework.batch.core.job.AbstractJob [scheduling-1] Encountered fatal error executing job
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.updateStatus(AbstractJob.java:443)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:315)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 51 common frames omitted
2022-03-01 12:47:30,044 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] failed unexpectedly and fatally with the following parameters: [{time=1646135250011}]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 12:47:30,045 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 12:50:36,732 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 11748 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:50:36,734 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:50:37,204 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:50:37,246 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interfaces.
2022-03-01 12:50:37,603 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:50:37,611 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:50:37,612 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:50:37,612 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:50:37,672 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:50:37,673 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 911 ms
2022-03-01 12:50:37,829 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:50:37,911 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:50:38,004 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:50:38,075 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:50:38,189 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:50:38,209 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:50:38,659 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:50:38,667 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:50:38,714 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:50:38,736 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:50:38,956 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:50:38,984 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:50:38,985 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:50:38,986 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:50:38,990 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:50:39,045 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:50:39,338 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:50:39,345 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:50:39,363 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:50:39,427 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:50:39,443 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:50:39,454 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.029 seconds (JVM running for 3.443)
2022-03-01 12:50:39,455 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:50:39,456 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:50:40,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:40,079 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135440006}]
2022-03-01 12:50:40,144 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:40,174 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:40,307 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:40,395 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 189 max of partion = 189
2022-03-01 12:50:40,396 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:50:40,397 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =189 maxValue 189
2022-03-01 12:50:40,449 INFO com.billcom.config.BatchConfig [scheduling-1] reading 189 to 189
2022-03-01 12:50:40,450 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:50:40,487 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-33781-55498
2022-03-01 12:50:40,542 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 12:50:40,551 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:50:40,552 INFO com.billcom.service.ReengagementService [Thread-3] amount7,888cagnotteHT99.23cagnotteHtFacilitecagnotteHtFacilite
2022-03-01 12:50:40,552 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:50:40,552 INFO com.billcom.service.ReengagementService [Thread-3] lllll7.888
2022-03-01 12:50:40,552 INFO com.billcom.service.ReengagementService [Thread-3] injectionGps json{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}
2022-03-01 12:50:40,555 INFO com.billcom.service.ReengagementService [Thread-3] batchModeTraitement error message ::  Error message :: Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,555 ERROR com.billcom.service.ReengagementService [Thread-3] error message :: Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,555 INFO com.billcom.service.ReengagementService [Thread-3] isIssuccessful :: false
2022-03-01 12:50:40,557 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] Catch Error in ReengagementStartProcessor :: Error message  : Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,557 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:50:40,558 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-33781-55498
2022-03-01 12:50:40,558 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-33781-55498 , orderId ::  0 , date :: 01/03/2022 12:50:40 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,558 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-33781-55498 , orderId ::  0 , date :: 01/03/2022 12:50:40 , status :: 0 , error ::Error message  : Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,558 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN Error message  : Cannot deserialize value of type `float` from String "cagnotteHtFacilite": not a valid Float value
 at [Source: (String)"{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"cagnotteHtFacilite","commitmentPeriod":"12"}}"; line: 1, column: 100] (through reference chain: com.billcom.model.InjectionGps["cagnotte"]->com.billcom.model.Cagnotte["cagnotteHtFacilite"])
2022-03-01 12:50:40,563 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:50:40,580 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 157ms
2022-03-01 12:50:40,588 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 443ms
2022-03-01 12:50:40,601 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135440006}] and the following status: [COMPLETED] in 501ms
2022-03-01 12:50:42,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:42,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135442007}]
2022-03-01 12:50:42,065 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:42,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:42,075 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:42,080 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:42,086 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 12:50:42,100 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135442007}] and the following status: [COMPLETED] in 61ms
2022-03-01 12:50:44,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:44,045 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135444015}]
2022-03-01 12:50:44,070 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:44,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:44,079 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:44,090 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:44,096 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 25ms
2022-03-01 12:50:44,109 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135444015}] and the following status: [COMPLETED] in 58ms
2022-03-01 12:50:46,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:46,030 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135446002}]
2022-03-01 12:50:46,058 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:46,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:46,068 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:46,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:46,078 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 12:50:46,093 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135446002}] and the following status: [COMPLETED] in 55ms
2022-03-01 12:50:48,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:48,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135448008}]
2022-03-01 12:50:48,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:48,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:48,068 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:48,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:48,076 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 16ms
2022-03-01 12:50:48,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135448008}] and the following status: [COMPLETED] in 50ms
2022-03-01 12:50:50,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:50,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135450007}]
2022-03-01 12:50:50,061 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:50,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:50,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:50,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:50,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 12:50:50,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135450007}] and the following status: [COMPLETED] in 56ms
2022-03-01 12:50:52,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:52,050 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135452014}]
2022-03-01 12:50:52,077 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:52,086 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:52,087 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:52,091 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:52,098 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 12:50:52,110 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135452014}] and the following status: [COMPLETED] in 55ms
2022-03-01 12:50:54,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:50:54,026 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135454002}]
2022-03-01 12:50:54,068 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:50:54,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:50:54,080 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@28583df2
2022-03-01 12:50:54,084 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:50:54,091 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 12:50:54,114 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135454002}] and the following status: [COMPLETED] in 79ms
2022-03-01 12:50:54,139 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 12:50:54,140 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 12:52:03,307 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 21948 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 12:52:03,309 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 12:52:03,800 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 12:52:03,838 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interfaces.
2022-03-01 12:52:04,239 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 12:52:04,248 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 12:52:04,249 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 12:52:04,249 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 12:52:04,329 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 12:52:04,329 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 989 ms
2022-03-01 12:52:04,505 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 12:52:04,607 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 12:52:04,718 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 12:52:04,818 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 12:52:04,969 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 12:52:04,998 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 12:52:05,538 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 12:52:05,546 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 12:52:05,591 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 12:52:05,615 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 12:52:05,933 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 12:52:05,964 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 12:52:05,966 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 12:52:05,967 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 12:52:05,975 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 12:52:06,034 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 12:52:06,329 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 12:52:06,335 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 12:52:06,357 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 12:52:06,423 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 12:52:06,444 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 12:52:06,458 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.437 seconds (JVM running for 3.908)
2022-03-01 12:52:06,460 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 12:52:06,462 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 12:52:08,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:08,109 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135528015}]
2022-03-01 12:52:08,274 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:08,296 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:08,308 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:08,394 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 190 max of partion = 190
2022-03-01 12:52:08,394 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 12:52:08,394 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =190 maxValue 190
2022-03-01 12:52:08,446 INFO com.billcom.config.BatchConfig [scheduling-1] reading 190 to 190
2022-03-01 12:52:08,447 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 12:52:08,493 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-35159-8006
2022-03-01 12:52:08,556 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] amount7,888cagnotteHT99.23cagnotteHtFacilite8,2
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] lllll7.888
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] lllll7.888
2022-03-01 12:52:08,567 INFO com.billcom.service.ReengagementService [Thread-3] injectionGps json{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"7.888","commitmentPeriod":"12"}}
2022-03-01 12:52:09,139 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 1691776
2022-03-01 12:52:09,141 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@980d35b
2022-03-01 12:52:09,141 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3684,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3684
2022-03-01 12:52:09,142 INFO com.billcom.service.ReengagementService [Thread-3] jsonnnnJbpmReengagement [custId=1691776, canal=CRM, duedate=2022-03-01 00:00:00, osmReference=OSM142536, updateOption=[], injectionRbf=[], updateGrh=com.billcom.model.UpdateGrh@eea218e, injectionGps=com.billcom.model.InjectionGps@32d6a34c, migration=[com.billcom.model.MigrationBean@22c166f3], jbpmrefreegagement=COMMANDE-RENG-35159-8006]
2022-03-01 12:52:09,142 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 12:52:09,142 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 12:52:09,142 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-35159-8006
2022-03-01 12:52:09,142 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3684 , date :: 01/03/2022 12:52:09 , status :: 3 , error ::null
2022-03-01 12:52:09,142 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3684 , date :: 01/03/2022 12:52:09 , status :: 3 , error ::null
2022-03-01 12:52:09,143 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 12:52:09,146 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 12:52:09,165 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 744ms
2022-03-01 12:52:09,173 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 899ms
2022-03-01 12:52:09,188 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135528015}] and the following status: [COMPLETED] in 941ms
2022-03-01 12:52:10,006 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:10,029 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135530006}]
2022-03-01 12:52:10,051 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:10,062 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:10,062 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:10,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:52:10,072 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 12:52:10,088 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135530006}] and the following status: [COMPLETED] in 51ms
2022-03-01 12:52:12,009 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:12,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135532009}]
2022-03-01 12:52:12,078 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:12,087 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:12,087 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:12,095 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:52:12,104 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 25ms
2022-03-01 12:52:12,122 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135532009}] and the following status: [COMPLETED] in 78ms
2022-03-01 12:52:14,005 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:14,033 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135534005}]
2022-03-01 12:52:14,057 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:14,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:14,065 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:14,067 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:52:14,073 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 16ms
2022-03-01 12:52:14,085 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135534005}] and the following status: [COMPLETED] in 47ms
2022-03-01 12:52:16,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:16,025 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135536001}]
2022-03-01 12:52:16,049 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:16,057 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:16,058 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:16,060 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:52:16,066 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 12:52:16,079 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135536001}] and the following status: [COMPLETED] in 49ms
2022-03-01 12:52:18,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 12:52:18,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646135538008}]
2022-03-01 12:52:18,059 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 12:52:18,068 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 12:52:18,068 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@10be295b
2022-03-01 12:52:18,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 12:52:18,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 22ms
2022-03-01 12:52:18,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646135538008}] and the following status: [COMPLETED] in 55ms
2022-03-01 12:52:18,434 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 12:52:18,434 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 14:26:02,804 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 19792 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 14:26:02,810 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 14:26:03,728 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 14:26:03,822 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 78 ms. Found 1 JPA repository interfaces.
2022-03-01 14:26:04,496 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 14:26:04,512 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 14:26:04,513 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 14:26:04,513 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 14:26:04,624 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 14:26:04,625 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1761 ms
2022-03-01 14:26:04,881 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 14:26:05,039 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 14:26:05,249 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 14:26:05,386 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 14:26:05,600 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 14:26:05,653 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 14:26:06,425 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 14:26:06,436 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 14:26:06,488 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 14:26:06,521 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 14:26:06,958 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 14:26:07,023 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 14:26:07,025 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 14:26:07,026 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 14:26:07,039 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 14:26:07,128 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 14:26:07,562 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 14:26:07,574 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 14:26:07,606 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 14:26:07,719 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 14:26:07,749 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 14:26:07,765 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 5.491 seconds (JVM running for 6.165)
2022-03-01 14:26:07,766 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 14:26:07,768 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 14:26:08,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:26:08,112 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141168013}]
2022-03-01 14:26:08,177 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:26:08,193 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:26:08,349 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@20cb47fd
2022-03-01 14:26:08,479 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 191 max of partion = 191
2022-03-01 14:26:08,479 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 14:26:08,479 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =191 maxValue 191
2022-03-01 14:26:08,576 INFO com.billcom.config.BatchConfig [scheduling-1] reading 191 to 191
2022-03-01 14:26:08,578 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 14:26:08,635 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-24095-49956
2022-03-01 14:26:08,711 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"24","commitmentStartDate":"2021-07-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0025015612","msisdn":"56835151"},{"cocode":"CONTR0025015612","msisdn":"56835151"}]}
2022-03-01 14:26:08,729 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,729 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,730 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 14:26:08,731 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,731 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 14:26:08,731 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-24095-49956
2022-03-01 14:26:08,732 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-24095-49956 , orderId ::  0 , date :: 01/03/2022 14:26:08 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,732 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-24095-49956 , orderId ::  0 , date :: 01/03/2022 14:26:08 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,732 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 14:26:08,738 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 14:26:08,757 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 239ms
2022-03-01 14:26:08,767 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 589ms
2022-03-01 14:26:08,784 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141168013}] and the following status: [COMPLETED] in 635ms
2022-03-01 14:26:10,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:26:10,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141170013}]
2022-03-01 14:26:10,061 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:26:10,070 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:26:10,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@20cb47fd
2022-03-01 14:26:10,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 14:26:10,082 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 14:26:10,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141170013}] and the following status: [COMPLETED] in 53ms
2022-03-01 14:26:12,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:26:12,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141172012}]
2022-03-01 14:26:12,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:26:12,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:26:12,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@20cb47fd
2022-03-01 14:26:12,078 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 14:26:12,085 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 21ms
2022-03-01 14:26:12,130 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141172012}] and the following status: [COMPLETED] in 89ms
2022-03-01 14:26:13,801 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-03-01 14:26:13,802 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(2)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 14:37:22,823 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 20500 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 14:37:22,826 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 14:37:23,539 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 14:37:23,611 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60 ms. Found 1 JPA repository interfaces.
2022-03-01 14:37:24,268 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 14:37:24,282 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 14:37:24,283 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 14:37:24,284 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 14:37:24,399 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 14:37:24,400 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1527 ms
2022-03-01 14:37:24,654 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 14:37:24,729 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 14:37:25,041 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 14:37:25,191 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 14:37:25,504 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 14:37:25,556 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 14:37:26,394 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 14:37:26,406 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 14:37:26,484 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 14:37:26,528 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 14:37:26,954 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 14:37:27,009 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 14:37:27,011 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 14:37:27,012 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 14:37:27,020 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 14:37:27,108 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 14:37:27,532 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 14:37:27,541 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 14:37:27,566 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 14:37:27,664 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 14:37:27,696 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 14:37:27,714 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 5.368 seconds (JVM running for 6.076)
2022-03-01 14:37:27,717 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 14:37:27,721 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 14:37:28,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:37:28,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141848002}]
2022-03-01 14:37:28,181 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:37:28,198 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:37:28,211 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3b323693
2022-03-01 14:37:28,498 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 190 max of partion = 190
2022-03-01 14:37:28,499 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 14:37:28,499 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =190 maxValue 190
2022-03-01 14:37:28,561 INFO com.billcom.config.BatchConfig [scheduling-1] reading 190 to 190
2022-03-01 14:37:28,564 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 14:37:28,620 INFO com.billcom.batch.ReengagementStartProcessor [Thread-3] => ReengagementStartProcessor IN COMMANDE-RENG-35159-8006
2022-03-01 14:37:28,706 INFO com.billcom.service.ReengagementService [Thread-3] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 14:37:28,726 INFO com.billcom.service.ReengagementService [Thread-3] ----------------*************-----------
2022-03-01 14:37:28,726 INFO com.billcom.service.ReengagementService [Thread-3] amount7,888cagnotteHT99.23cagnotteHtFacilite8,2
2022-03-01 14:37:28,727 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 14:37:28,727 INFO com.billcom.service.ReengagementService [Thread-3] lllll7.888
2022-03-01 14:37:28,727 INFO com.billcom.service.ReengagementService [Thread-3] ,,,,,,
2022-03-01 14:37:28,727 INFO com.billcom.service.ReengagementService [Thread-3] lllll7.888
2022-03-01 14:37:28,727 INFO com.billcom.service.ReengagementService [Thread-3] injectionGps json{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"7.888","commitmentPeriod":"12"}}
2022-03-01 14:37:29,388 INFO com.billcom.utils.BatchUtils [Thread-3] ==> CustomerId after call rest :: 1691776
2022-03-01 14:37:29,391 INFO com.billcom.utils.BatchUtils [Thread-3] restResponse toString -> com.billcom.model.RestResponse@787cea3f
2022-03-01 14:37:29,392 INFO com.billcom.utils.BatchUtils [Thread-3] => result of rest JBPMStart ws :: {"id":3687,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3687
2022-03-01 14:37:29,392 INFO com.billcom.service.ReengagementService [Thread-3] jsonnnnJbpmReengagement [custId=1691776, canal=CRM, duedate=2022-03-01 00:00:00, osmReference=OSM142536, updateOption=[], injectionRbf=[], updateGrh=com.billcom.model.UpdateGrh@52279a9b, injectionGps=com.billcom.model.InjectionGps@409d07ef, migration=[com.billcom.model.MigrationBean@5b03d157], jbpmrefreegagement=COMMANDE-RENG-35159-8006]
2022-03-01 14:37:29,392 INFO com.billcom.service.ReengagementService [Thread-3] beanBatch Response = true
2022-03-01 14:37:29,393 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] => ReengagementStartWriter IN 1
2022-03-01 14:37:29,394 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-35159-8006
2022-03-01 14:37:29,394 INFO com.billcom.batch.ReengagementStartWriter [Thread-3] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3687 , date :: 01/03/2022 14:37:29 , status :: 3 , error ::null
2022-03-01 14:37:29,394 INFO com.billcom.service.ReengagementService [Thread-3] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3687 , date :: 01/03/2022 14:37:29 , status :: 3 , error ::null
2022-03-01 14:37:29,394 INFO com.billcom.dao.BatchDaoImp [Thread-3] =>updateStatus Dao IN null
2022-03-01 14:37:29,400 INFO com.billcom.dao.BatchDaoImp [Thread-3] <=updateStatus Dao out
2022-03-01 14:37:29,423 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 897ms
2022-03-01 14:37:29,434 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 1s252ms
2022-03-01 14:37:29,451 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141848002}] and the following status: [COMPLETED] in 1s315ms
2022-03-01 14:37:30,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:37:30,039 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141850011}]
2022-03-01 14:37:30,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:37:30,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:37:30,074 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3b323693
2022-03-01 14:37:30,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 14:37:30,087 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 24ms
2022-03-01 14:37:30,102 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141850011}] and the following status: [COMPLETED] in 57ms
2022-03-01 14:37:32,008 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 14:37:32,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646141852008}]
2022-03-01 14:37:32,060 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 14:37:32,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 14:37:32,070 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3b323693
2022-03-01 14:37:32,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 14:37:32,083 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 23ms
2022-03-01 14:37:32,098 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646141852008}] and the following status: [COMPLETED] in 55ms
2022-03-01 14:37:32,882 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2022-03-01 14:37:32,883 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(6)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 15:12:09,811 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 12356 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 15:12:09,814 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 15:12:10,304 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 15:12:10,345 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 1 JPA repository interfaces.
2022-03-01 15:12:10,748 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 15:12:10,756 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 15:12:10,757 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 15:12:10,757 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 15:12:10,830 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 15:12:10,830 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 981 ms
2022-03-01 15:12:10,994 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 15:12:11,108 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 15:12:11,263 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 15:12:11,390 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 15:12:11,532 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 15:12:11,561 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 15:12:12,073 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 15:12:12,081 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 15:12:12,120 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 15:12:12,146 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 15:12:12,433 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 15:12:12,467 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 15:12:12,470 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 15:12:12,470 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 15:12:12,475 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 15:12:12,532 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 15:12:12,829 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 15:12:12,835 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 15:12:12,850 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 15:12:12,900 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 15:12:12,935 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 15:12:12,946 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 3.44 seconds (JVM running for 3.899)
2022-03-01 15:12:12,947 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 15:12:12,949 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 15:12:14,015 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:14,084 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143934016}]
2022-03-01 15:12:14,235 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:14,247 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:14,255 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:14,332 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 190 max of partion = 190
2022-03-01 15:12:14,333 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 15:12:14,333 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =190 maxValue 190
2022-03-01 15:12:14,388 INFO com.billcom.config.BatchConfig [scheduling-1] reading 190 to 190
2022-03-01 15:12:14,389 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 15:12:14,422 INFO com.billcom.batch.ReengagementStartProcessor [Thread-2] => ReengagementStartProcessor IN COMMANDE-RENG-35159-8006
2022-03-01 15:12:14,463 INFO com.billcom.service.ReengagementService [Thread-2] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 15:12:14,475 INFO com.billcom.service.ReengagementService [Thread-2] ----------------*************-----------
2022-03-01 15:12:14,475 INFO com.billcom.service.ReengagementService [Thread-2] amount7,888cagnotteHT99.23cagnotteHtFacilite8,2
2022-03-01 15:12:14,475 INFO com.billcom.service.ReengagementService [Thread-2] ,,,,,,
2022-03-01 15:12:14,475 INFO com.billcom.service.ReengagementService [Thread-2] lllll7.888
2022-03-01 15:12:14,475 INFO com.billcom.service.ReengagementService [Thread-2] ,,,,,,
2022-03-01 15:12:14,476 INFO com.billcom.service.ReengagementService [Thread-2] lllll7.888
2022-03-01 15:12:14,476 INFO com.billcom.service.ReengagementService [Thread-2] injectionGps json{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"7.888","commitmentPeriod":"12"}}
2022-03-01 15:12:15,036 INFO com.billcom.utils.BatchUtils [Thread-2] ==> CustomerId after call rest :: 1691776
2022-03-01 15:12:15,039 INFO com.billcom.utils.BatchUtils [Thread-2] restResponse toString -> com.billcom.model.RestResponse@1b9b3e0f
2022-03-01 15:12:15,039 INFO com.billcom.utils.BatchUtils [Thread-2] => result of rest JBPMStart ws :: {"id":3688,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3688
2022-03-01 15:12:15,039 INFO com.billcom.service.ReengagementService [Thread-2] jsonnnnJbpmReengagement [custId=1691776, canal=CRM, duedate=2022-03-01 00:00:00, osmReference=OSM142536, updateOption=[], injectionRbf=[], updateGrh=com.billcom.model.UpdateGrh@1bcf48dd, injectionGps=com.billcom.model.InjectionGps@4b05dd52, migration=[com.billcom.model.MigrationBean@4d8549f7], jbpmrefreegagement=COMMANDE-RENG-35159-8006]
2022-03-01 15:12:15,039 INFO com.billcom.service.ReengagementService [Thread-2] beanBatch Response = true
2022-03-01 15:12:15,039 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] => ReengagementStartWriter IN 1
2022-03-01 15:12:15,040 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-35159-8006
2022-03-01 15:12:15,040 INFO com.billcom.batch.ReengagementStartWriter [Thread-2] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3688 , date :: 01/03/2022 15:12:15 , status :: 3 , error ::null
2022-03-01 15:12:15,040 INFO com.billcom.service.ReengagementService [Thread-2] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3688 , date :: 01/03/2022 15:12:15 , status :: 3 , error ::null
2022-03-01 15:12:15,040 INFO com.billcom.dao.BatchDaoImp [Thread-2] =>updateStatus Dao IN null
2022-03-01 15:12:15,045 INFO com.billcom.dao.BatchDaoImp [Thread-2] <=updateStatus Dao out
2022-03-01 15:12:15,066 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 704ms
2022-03-01 15:12:15,076 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 840ms
2022-03-01 15:12:15,091 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143934016}] and the following status: [COMPLETED] in 880ms
2022-03-01 15:12:16,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:16,034 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143936011}]
2022-03-01 15:12:16,056 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:16,065 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:16,065 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:16,069 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:12:16,075 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 15:12:16,090 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143936011}] and the following status: [COMPLETED] in 50ms
2022-03-01 15:12:18,001 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:18,030 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143938001}]
2022-03-01 15:12:18,053 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:18,062 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:18,062 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:18,067 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:12:18,072 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 19ms
2022-03-01 15:12:18,106 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143938001}] and the following status: [COMPLETED] in 53ms
2022-03-01 15:12:20,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:20,030 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143940002}]
2022-03-01 15:12:20,052 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:20,061 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:20,061 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:20,064 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:12:20,071 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 15:12:20,085 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143940002}] and the following status: [COMPLETED] in 49ms
2022-03-01 15:12:22,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:22,043 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143942012}]
2022-03-01 15:12:22,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:22,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:22,072 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:22,075 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:12:22,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 15:12:22,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143942012}] and the following status: [COMPLETED] in 46ms
2022-03-01 15:12:24,000 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:12:24,026 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646143944000}]
2022-03-01 15:12:24,048 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:12:24,057 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:12:24,057 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@3ddd8720
2022-03-01 15:12:24,060 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:12:24,065 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 15:12:24,078 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646143944000}] and the following status: [COMPLETED] in 47ms
2022-03-01 15:12:25,478 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(2)-127.0.0.1] Application shutdown requested.
2022-03-01 15:12:25,478 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(2)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 15:12:25,563 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(2)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 15:15:48,402 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 17340 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 15:15:48,403 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 15:15:48,841 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 15:15:48,878 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 15:15:49,246 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 15:15:49,254 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 15:15:49,254 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 15:15:49,254 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 15:15:49,316 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 15:15:49,316 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 886 ms
2022-03-01 15:15:49,458 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 15:15:49,536 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 15:15:49,630 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 15:15:49,700 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 15:15:49,814 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 15:15:49,836 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 15:15:50,245 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 15:15:50,252 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 15:15:50,287 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 15:15:50,322 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 15:15:50,546 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 15:15:50,572 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 15:15:50,573 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 15:15:50,575 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 15:15:50,579 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 15:15:50,622 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 15:15:50,871 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 15:15:50,876 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 15:15:50,890 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 15:15:50,941 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 15:15:50,955 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 15:15:50,965 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.853 seconds (JVM running for 3.307)
2022-03-01 15:15:50,966 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 15:15:50,967 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 15:15:52,007 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:15:52,123 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144152011}]
2022-03-01 15:15:52,285 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:15:52,298 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:15:52,305 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:15:52,378 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 190 max of partion = 190
2022-03-01 15:15:52,379 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 15:15:52,379 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =190 maxValue 190
2022-03-01 15:15:52,426 INFO com.billcom.config.BatchConfig [scheduling-1] reading 190 to 190
2022-03-01 15:15:52,427 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 15:15:52,461 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-35159-8006
2022-03-01 15:15:52,502 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"12","commitmentStartDate":"2022-02-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0013112879","msisdn":"50920344"}]}
2022-03-01 15:15:52,511 INFO com.billcom.service.ReengagementService [Thread-1] ----------------*************-----------
2022-03-01 15:15:52,511 INFO com.billcom.service.ReengagementService [Thread-1] amount7,888cagnotteHT99.23cagnotteHtFacilite8,2
2022-03-01 15:15:52,511 INFO com.billcom.service.ReengagementService [Thread-1] ,,,,,,
2022-03-01 15:15:52,511 INFO com.billcom.service.ReengagementService [Thread-1] lllll7.888
2022-03-01 15:15:52,512 INFO com.billcom.service.ReengagementService [Thread-1] ,,,,,,
2022-03-01 15:15:52,512 INFO com.billcom.service.ReengagementService [Thread-1] lllll7.888
2022-03-01 15:15:52,512 INFO com.billcom.service.ReengagementService [Thread-1] injectionGps json{"cagnotte":{"osmReference":"OSM142536","amount":"7.888","cagnotteHT":"99.23","cagnotteHtFacilite":"7.888","commitmentPeriod":"12"}}
2022-03-01 15:15:53,039 INFO com.billcom.utils.BatchUtils [Thread-1] ==> CustomerId after call rest :: 1691776
2022-03-01 15:15:53,041 INFO com.billcom.utils.BatchUtils [Thread-1] restResponse toString -> com.billcom.model.RestResponse@21b8421
2022-03-01 15:15:53,041 INFO com.billcom.utils.BatchUtils [Thread-1] => result of rest JBPMStart ws :: {"id":3691,"comment":null,"errorCode":null,"isSuccessful":true}, comment :: null , ErrorCode :: null , isIssuccessful :: true , Id :: 3691
2022-03-01 15:15:53,041 INFO com.billcom.service.ReengagementService [Thread-1] jsonnnnJbpmReengagement [custId=1691776, canal=CRM, duedate=2022-03-01 00:00:00, osmReference=OSM142536, updateOption=[], injectionRbf=[], updateGrh=com.billcom.model.UpdateGrh@1487f9fb, injectionGps=com.billcom.model.InjectionGps@350a4898, migration=[com.billcom.model.MigrationBean@240e9f11], jbpmrefreegagement=COMMANDE-RENG-35159-8006]
2022-03-01 15:15:53,041 INFO com.billcom.service.ReengagementService [Thread-1] beanBatch Response = true
2022-03-01 15:15:53,041 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 15:15:53,042 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: true with JBPM_Ref = COMMANDE-RENG-35159-8006
2022-03-01 15:15:53,042 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start true -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3691 , date :: 01/03/2022 15:15:53 , status :: 3 , error ::null
2022-03-01 15:15:53,042 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-35159-8006 , orderId ::  3691 , date :: 01/03/2022 15:15:53 , status :: 3 , error ::null
2022-03-01 15:15:53,042 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN null
2022-03-01 15:15:53,047 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 15:15:53,069 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 667ms
2022-03-01 15:15:53,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 796ms
2022-03-01 15:15:53,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144152011}] and the following status: [COMPLETED] in 833ms
2022-03-01 15:15:54,006 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:15:54,035 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144154006}]
2022-03-01 15:15:54,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:15:54,072 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:15:54,073 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:15:54,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:15:54,082 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 15:15:54,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144154006}] and the following status: [COMPLETED] in 58ms
2022-03-01 15:15:56,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:15:56,038 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144156011}]
2022-03-01 15:15:56,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:15:56,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:15:56,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:15:56,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:15:56,081 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 15:15:56,096 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144156011}] and the following status: [COMPLETED] in 52ms
2022-03-01 15:15:58,014 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:15:58,043 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144158014}]
2022-03-01 15:15:58,068 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:15:58,076 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:15:58,076 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:15:58,079 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:15:58,085 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 17ms
2022-03-01 15:15:58,099 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144158014}] and the following status: [COMPLETED] in 51ms
2022-03-01 15:16:00,013 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:16:00,052 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144160014}]
2022-03-01 15:16:00,076 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:16:00,086 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:16:00,086 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:16:00,089 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:16:00,096 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 15:16:00,111 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144160014}] and the following status: [COMPLETED] in 52ms
2022-03-01 15:16:02,012 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:16:02,044 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144162012}]
2022-03-01 15:16:02,067 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:16:02,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:16:02,077 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:16:02,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:16:02,087 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 20ms
2022-03-01 15:16:02,103 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144162012}] and the following status: [COMPLETED] in 53ms
2022-03-01 15:16:04,011 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:16:04,037 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144164011}]
2022-03-01 15:16:04,063 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:16:04,077 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:16:04,077 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:16:04,081 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:16:04,088 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 25ms
2022-03-01 15:16:04,106 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144164011}] and the following status: [COMPLETED] in 62ms
2022-03-01 15:16:06,016 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:16:06,042 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144166016}]
2022-03-01 15:16:06,062 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:16:06,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:16:06,071 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@64b17f5f
2022-03-01 15:16:06,074 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:16:06,080 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 18ms
2022-03-01 15:16:06,094 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144166016}] and the following status: [COMPLETED] in 47ms
2022-03-01 15:16:07,501 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(7)-127.0.0.1] Application shutdown requested.
2022-03-01 15:16:07,501 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(7)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 15:25:56,070 INFO org.springframework.boot.StartupInfoLogger [main] Starting BatchProcessingApplication using Java 1.8.0_241 on BCT105018 with PID 9616 (C:\Users\nada.boumiza\Desktop\BatchRengJBPM\target\classes started by nada.boumiza in C:\Users\nada.boumiza\Desktop\BatchRengJBPM)
2022-03-01 15:25:56,073 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2022-03-01 15:25:56,503 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-03-01 15:25:56,541 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.
2022-03-01 15:25:56,880 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8085 (http)
2022-03-01 15:25:56,888 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8085"]
2022-03-01 15:25:56,888 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2022-03-01 15:25:56,888 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.46]
2022-03-01 15:25:56,958 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2022-03-01 15:25:56,959 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 857 ms
2022-03-01 15:25:57,084 INFO org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2022-03-01 15:25:57,167 INFO org.hibernate.Version [main] HHH000412: Hibernate ORM core version 5.4.31.Final
2022-03-01 15:25:57,284 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [main] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-03-01 15:25:57,355 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2022-03-01 15:25:57,469 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2022-03-01 15:25:57,491 INFO org.hibernate.dialect.Dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQL55Dialect
2022-03-01 15:25:57,892 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-03-01 15:25:57,899 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 15:25:57,932 INFO com.billcom.config.BatchConfig [main] In job for start 
2022-03-01 15:25:57,951 INFO com.billcom.config.BatchConfig [main] In processorForStart for reengagement 
2022-03-01 15:25:58,164 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriter ForStart 
2022-03-01 15:25:58,210 INFO com.billcom.config.BatchConfig [main] In job for recycle 
2022-03-01 15:25:58,211 INFO com.billcom.config.BatchConfig [main] In processorForRecycle 
2022-03-01 15:25:58,212 INFO com.billcom.config.BatchConfig [main] In reengagementRequestItemWriterForRecycle 
2022-03-01 15:25:58,217 INFO com.billcom.config.BatchConfig [main] In job for parallel 
2022-03-01 15:25:58,271 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-03-01 15:25:58,560 WARN org.springframework.boot.autoconfigure.batch.JpaBatchConfigurer [main] JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2022-03-01 15:25:58,565 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2022-03-01 15:25:58,583 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2022-03-01 15:25:58,639 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8085"]
2022-03-01 15:25:58,655 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8085 (http) with context path ''
2022-03-01 15:25:58,666 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchProcessingApplication in 2.887 seconds (JVM running for 3.321)
2022-03-01 15:25:58,667 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state LivenessState changed to CORRECT
2022-03-01 15:25:58,668 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [main] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2022-03-01 15:26:00,009 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:26:00,100 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144760012}]
2022-03-01 15:26:00,272 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:26:00,287 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:26:00,297 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@228e6f9a
2022-03-01 15:26:00,385 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = 192 max of partion = 192
2022-03-01 15:26:00,386 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] number =0 value {}
2022-03-01 15:26:00,386 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] minValue =192 maxValue 192
2022-03-01 15:26:00,516 INFO com.billcom.config.BatchConfig [scheduling-1] reading 192 to 192
2022-03-01 15:26:00,517 INFO com.billcom.config.BatchConfig [scheduling-1] -> Query to read :: SELECT ID, ORDER_ID, JBPM_Ref_Rengagement, CUST_ID, CANAL, DUEDATE, OSMREFERENCE, MIGARATION, UPDATEOPTION, UPDATEGRH, INJECTIONRBF, INJECTIONGPS, STATUS FROM REENGAGEMENT_REQUEST  where ID >= :minValue  and ID <= :maxValue  and STATUS = :status
2022-03-01 15:26:00,555 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] => ReengagementStartProcessor IN COMMANDE-RENG-83568-59414
2022-03-01 15:26:00,613 INFO com.billcom.service.ReengagementService [Thread-1] updateGrh {"commitmentPeriod":"24","commitmentStartDate":"2021-07-25T08:58:13.973Z","contractList":[{"cocode":"CONTR0025015612","msisdn":"56835151"},{"cocode":"CONTR0025015612","msisdn":"56835151"}]}
2022-03-01 15:26:00,623 INFO com.billcom.service.ReengagementService [Thread-1] batchModeTraitement error message ::  Error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,623 ERROR com.billcom.service.ReengagementService [Thread-1] error message :: A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,625 INFO com.billcom.service.ReengagementService [Thread-1] isIssuccessful :: false
2022-03-01 15:26:00,626 INFO com.billcom.batch.ReengagementStartProcessor [Thread-1] Catch Error in ReengagementStartProcessor :: Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,626 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] => ReengagementStartWriter IN 1
2022-03-01 15:26:00,627 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] Update request Issuccessful :: false with JBPM_Ref = COMMANDE-RENG-83568-59414
2022-03-01 15:26:00,627 INFO com.billcom.batch.ReengagementStartWriter [Thread-1] updateReengagementRequest for start false -> jbpmRef ::COMMANDE-RENG-83568-59414 , orderId ::  0 , date :: 01/03/2022 15:26:00 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,627 INFO com.billcom.service.ReengagementService [Thread-1] updateReengagementRequest -> jbpmRef ::COMMANDE-RENG-83568-59414 , orderId ::  0 , date :: 01/03/2022 15:26:00 , status :: 0 , error ::Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,627 INFO com.billcom.dao.BatchDaoImp [Thread-1] =>updateStatus Dao IN Error message  : A JSONObject text must begin with '{' at 1 [character 2 line 1]
2022-03-01 15:26:00,631 INFO com.billcom.dao.BatchDaoImp [Thread-1] <=updateStatus Dao out
2022-03-01 15:26:00,685 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [slaveStepForStart:partition0] executed in 200ms
2022-03-01 15:26:00,697 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 424ms
2022-03-01 15:26:00,713 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144760012}] and the following status: [COMPLETED] in 479ms
2022-03-01 15:26:02,000 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:26:02,024 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144762000}]
2022-03-01 15:26:02,053 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:26:02,066 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] => RangePartitionerForStart IN
2022-03-01 15:26:02,067 INFO com.billcom.dao.BatchDaoImp [scheduling-1] =>getIdMin org.springframework.data.jpa.repository.support.SimpleJpaRepository@228e6f9a
2022-03-01 15:26:02,071 INFO com.billcom.partitioner.RangePartitionerForStart [scheduling-1] min of partion = null max of partion = null
2022-03-01 15:26:02,079 INFO org.springframework.batch.core.step.AbstractStep [scheduling-1] Step: [startStep] executed in 25ms
2022-03-01 15:26:02,095 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] completed with the following parameters: [{time=1646144762000}] and the following status: [COMPLETED] in 65ms
2022-03-01 15:26:03,956 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(8)-127.0.0.1] Application shutdown requested.
2022-03-01 15:26:03,957 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [RMI TCP Connection(8)-127.0.0.1] Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2022-03-01 15:26:04,002 INFO com.billcom.Scheduler [scheduling-1] ---> Batch programmed to run every 10 seconds !
2022-03-01 15:26:04,036 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] launched with the following parameters: [{time=1646144764002}]
2022-03-01 15:26:04,061 INFO org.springframework.batch.core.job.SimpleStepHandler [scheduling-1] Executing step: [startStep]
2022-03-01 15:26:04,064 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [RMI TCP Connection(8)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2022-03-01 15:26:04,066 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2022-03-01 15:26:04,070 ERROR org.springframework.batch.core.job.AbstractJob [scheduling-1] Encountered fatal error executing job
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: Session/EntityManager is closed
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:85)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:646)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:906)
	at org.springframework.batch.core.repository.dao.JdbcJobExecutionDao.synchronizeStatus(JdbcJobExecutionDao.java:307)
	at org.springframework.batch.core.repository.support.SimpleJobRepository.checkForInterruption(SimpleJobRepository.java:259)
	at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:205)
	at sun.reflect.GeneratedMethodAccessor56.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor56.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:196)
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2022-03-01 15:26:04,071 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher$1 [scheduling-1] Job: [SimpleJob: [name=processJobStart]] failed unexpectedly and fatally with the following parameters: [{time=1646144764002}]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor54.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
2022-03-01 15:26:04,072 INFO com.zaxxer.hikari.HikariDataSource [RMI TCP Connection(8)-127.0.0.1] HikariPool-1 - Shutdown completed.
2022-03-01 15:26:04,072 ERROR org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler [scheduling-1] Unexpected error occurred in scheduled task
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy83.update(Unknown Source)
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:378)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy85.run(Unknown Source)
	at com.billcom.BatchLauncher.run(BatchLauncher.java:59)
	at com.billcom.Scheduler.perform(Scheduler.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:530)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:609)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:156)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585)
	at sun.reflect.GeneratedMethodAccessor54.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734)
	at com.sun.proxy.$Proxy80.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 50 common frames omitted
